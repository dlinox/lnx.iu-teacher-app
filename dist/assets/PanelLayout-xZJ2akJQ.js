import{g as me,p as fe,d as F,B as ge,C as J,D as he,E as ye,F as we,G as B,H as De,I as x,J as z,K as H,L as pe,u as be,a,M as Se,N as Ve,O as ke,P as Ce,Q as xe,e as Te,R as _e,S as K,T as R,U as Pe,W as Re,X as He,Y as Ye,Z as Ee,$ as Oe,a0 as ze,a1 as $e,a2 as We,a3 as Ae,a4 as Fe,a5 as Xe,a6 as Ue,a7 as le,a8 as Ge,a9 as qe,aa as Ze,ab as je,ac as Je,ad as Ke,ae as Qe,h as et,af as tt,c as X,w as o,V as U,i as at,ag as P,ah as nt,j as T,ai as G,aj as I,ak as q,al as A,r as se,am as ot,l as Z,an as lt,ao as st,x as ut,ap as it,aq as ue,n as E,ar as rt,as as ie,at as ct,o as j,au as dt}from"./index-DKoxe_Cg.js";import{u as vt}from"./period.stores-CkvqDDxg.js";import{u as mt}from"./heading.store-BrnA2aHr.js";import{u as Me,m as Ie,V as ft,a as gt}from"./VMain-jDIdE1DG.js";import{V as ht}from"./VToolbar-DMc2_aec.js";import{V as re}from"./VContainer-BWBpL3dE.js";import{V as yt,a as ce}from"./VTabs-CVW2nTX8.js";import"./index-CpaFAuvb.js";const wt="/resources/images/logo.png",pt=fe({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},..._e(),...Te(),...xe(),...Ie(),...Ce(),...ke({tag:"footer"}),...Ve()},"VFooter"),bt=me()({name:"VFooter",props:pt(),setup(e,g){let{slots:v}=g;const k=F(),{themeClasses:t}=ge(e),{backgroundColorClasses:r,backgroundColorStyles:l}=J(()=>e.color),{borderClasses:h}=he(e),{elevationClasses:b}=ye(e),{roundedClasses:p}=we(e),c=B(32),{resizeRef:n}=De(y=>{y.length&&(c.value=y[0].target.clientHeight)}),u=x(()=>e.height==="auto"?c.value:parseInt(e.height,10));return z(()=>e.app,()=>{const y=Me({id:e.name,order:x(()=>parseInt(e.order,10)),position:H(()=>"bottom"),layoutSize:u,elementSize:x(()=>e.height==="auto"?void 0:u.value),active:H(()=>e.app),absolute:H(()=>e.absolute)});pe(()=>{k.value=y.layoutItemStyles.value})}),be(()=>a(e.tag,{ref:n,class:["v-footer",t.value,r.value,h.value,b.value,p.value,e.class],style:[l.value,e.app?k.value:{height:Se(e.height)},e.style]},v)),{}}});function St(e){let{rootEl:g,isSticky:v,layoutItemStyles:k}=e;const t=B(!1),r=B(0),l=x(()=>{const p=typeof t.value=="boolean"?"top":t.value;return[v.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[p]:Se(r.value)}:{top:k.value.top}]});K(()=>{R(v,p=>{p?window.addEventListener("scroll",b,{passive:!0}):window.removeEventListener("scroll",b)},{immediate:!0})}),Pe(()=>{window.removeEventListener("scroll",b)});let h=0;function b(){const p=h>window.scrollY?"up":"down",c=g.value.getBoundingClientRect(),n=parseFloat(k.value.top??0),u=window.scrollY-Math.max(0,r.value-n),y=c.height+Math.max(r.value,n)-window.scrollY-window.innerHeight,m=parseFloat(getComputedStyle(g.value).getPropertyValue("--v-body-scroll-y"))||0;c.height<window.innerHeight-n?(t.value="top",r.value=n):p==="up"&&t.value==="bottom"||p==="down"&&t.value==="top"?(r.value=window.scrollY+c.top-m,t.value=!0):p==="down"&&y<=0?(r.value=0,t.value="bottom"):p==="up"&&u<=0&&(m?t.value!=="top"&&(r.value=-u+m+n,t.value="top"):(r.value=c.top+u,t.value="top")),h=window.scrollY}return{isStuck:t,stickyStyles:l}}const Vt=100,kt=20;function de(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ve(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let g=0;for(let v=e.length-1;v>0;v--){if(e[v].t===e[v-1].t)continue;const k=de(g),t=(e[v].d-e[v-1].d)/(e[v].t-e[v-1].t);g+=(t-k)*Math.abs(t),v===e.length-1&&(g*=.5)}return de(g)*1e3}function Ct(){const e={};function g(t){Array.from(t.changedTouches).forEach(r=>{(e[r.identifier]??(e[r.identifier]=new Re(kt))).push([t.timeStamp,r])})}function v(t){Array.from(t.changedTouches).forEach(r=>{delete e[r.identifier]})}function k(t){var p;const r=(p=e[t])==null?void 0:p.values().reverse();if(!r)throw new Error(`No samples for touch id ${t}`);const l=r[0],h=[],b=[];for(const c of r){if(l[0]-c[0]>Vt)break;h.push({t:c[0],d:c[1].clientX}),b.push({t:c[0],d:c[1].clientY})}return{x:ve(h),y:ve(b),get direction(){const{x:c,y:n}=this,[u,y]=[Math.abs(c),Math.abs(n)];return u>y&&c>=0?"right":u>y&&c<=0?"left":y>u&&n>=0?"down":y>u&&n<=0?"up":xt()}}}return{addMovement:g,endTouch:v,getVelocity:k}}function xt(){throw new Error}function Tt(e){let{el:g,isActive:v,isTemporary:k,width:t,touchless:r,position:l}=e;K(()=>{window.addEventListener("touchstart",L,{passive:!0}),window.addEventListener("touchmove",M,{passive:!1}),window.addEventListener("touchend",$,{passive:!0})}),Pe(()=>{window.removeEventListener("touchstart",L),window.removeEventListener("touchmove",M),window.removeEventListener("touchend",$)});const h=x(()=>["left","right"].includes(l.value)),{addMovement:b,endTouch:p,getVelocity:c}=Ct();let n=!1;const u=B(!1),y=B(0),m=B(0);let s;function _(i,d){return(l.value==="left"?i:l.value==="right"?document.documentElement.clientWidth-i:l.value==="top"?i:l.value==="bottom"?document.documentElement.clientHeight-i:D())-(d?t.value:0)}function Y(i){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const f=l.value==="left"?(i-m.value)/t.value:l.value==="right"?(document.documentElement.clientWidth-i-m.value)/t.value:l.value==="top"?(i-m.value)/t.value:l.value==="bottom"?(document.documentElement.clientHeight-i-m.value)/t.value:D();return d?Math.max(0,Math.min(1,f)):f}function L(i){if(r.value)return;const d=i.changedTouches[0].clientX,f=i.changedTouches[0].clientY,w=25,S=l.value==="left"?d<w:l.value==="right"?d>document.documentElement.clientWidth-w:l.value==="top"?f<w:l.value==="bottom"?f>document.documentElement.clientHeight-w:D(),V=v.value&&(l.value==="left"?d<t.value:l.value==="right"?d>document.documentElement.clientWidth-t.value:l.value==="top"?f<t.value:l.value==="bottom"?f>document.documentElement.clientHeight-t.value:D());(S||V||v.value&&k.value)&&(s=[d,f],m.value=_(h.value?d:f,v.value),y.value=Y(h.value?d:f),n=m.value>-20&&m.value<80,p(i),b(i))}function M(i){const d=i.changedTouches[0].clientX,f=i.changedTouches[0].clientY;if(n){if(!i.cancelable){n=!1;return}const S=Math.abs(d-s[0]),V=Math.abs(f-s[1]);(h.value?S>V&&S>3:V>S&&V>3)?(u.value=!0,n=!1):(h.value?V:S)>3&&(n=!1)}if(!u.value)return;i.preventDefault(),b(i);const w=Y(h.value?d:f,!1);y.value=Math.max(0,Math.min(1,w)),w>1?m.value=_(h.value?d:f,!0):w<0&&(m.value=_(h.value?d:f,!1))}function $(i){if(n=!1,!u.value)return;b(i),u.value=!1;const d=c(i.changedTouches[0].identifier),f=Math.abs(d.x),w=Math.abs(d.y);(h.value?f>w&&f>400:w>f&&w>3)?v.value=d.direction===({left:"right",right:"left",top:"down",bottom:"up"}[l.value]||D()):v.value=y.value>.5}const O=x(()=>u.value?{transform:l.value==="left"?`translateX(calc(-100% + ${y.value*t.value}px))`:l.value==="right"?`translateX(calc(100% - ${y.value*t.value}px))`:l.value==="top"?`translateY(calc(-100% + ${y.value*t.value}px))`:l.value==="bottom"?`translateY(calc(100% - ${y.value*t.value}px))`:D(),transition:"none"}:void 0);return z(u,()=>{var f,w;const i=((f=g.value)==null?void 0:f.style.transform)??null,d=((w=g.value)==null?void 0:w.style.transition)??null;pe(()=>{var S,V,N,W;(V=g.value)==null||V.style.setProperty("transform",((S=O.value)==null?void 0:S.transform)||"none"),(W=g.value)==null||W.style.setProperty("transition",((N=O.value)==null?void 0:N.transition)||null)}),He(()=>{var S,V;(S=g.value)==null||S.style.setProperty("transform",i),(V=g.value)==null||V.style.setProperty("transition",d)})}),{isDragging:u,dragProgress:y,dragStyles:O}}function D(){throw new Error}const _t=["start","end","left","right","top","bottom"],Pt=fe({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>_t.includes(e)},sticky:Boolean,..._e(),...Te(),...Qe(),...Ke({mobile:null}),...xe(),...Ie(),...Ce(),...ke({tag:"nav"}),...Ve()},"VNavigationDrawer"),Et=me()({name:"VNavigationDrawer",props:Pt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,g){let{attrs:v,emit:k,slots:t}=g;const{isRtl:r}=Ye(),{themeClasses:l}=ge(e),{borderClasses:h}=he(e),{backgroundColorClasses:b,backgroundColorStyles:p}=J(()=>e.color),{elevationClasses:c}=ye(e),{displayClasses:n,mobile:u}=Ee(e),{roundedClasses:y}=we(e),m=Oe(),s=ze(e,"modelValue",null,C=>!!C),{ssrBootStyles:_}=$e(),{scopeId:Y}=We(),L=F(),M=B(!1),{runOpenDelay:$,runCloseDelay:O}=Ge(e,C=>{M.value=C}),i=x(()=>e.rail&&e.expandOnHover&&M.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),d=x(()=>Ae(e.location,r.value)),f=H(()=>e.persistent),w=x(()=>!e.permanent&&(u.value||e.temporary)),S=x(()=>e.sticky&&!w.value&&d.value!=="bottom");z(()=>e.expandOnHover&&e.rail!=null,()=>{R(M,C=>k("update:rail",!C))}),z(()=>!e.disableResizeWatcher,()=>{R(w,C=>!e.permanent&&Fe(()=>s.value=!C))}),z(()=>!e.disableRouteWatcher&&!!m,()=>{R(m.currentRoute,()=>w.value&&(s.value=!1))}),R(()=>e.permanent,C=>{C&&(s.value=!0)}),e.modelValue==null&&!w.value&&(s.value=e.permanent||!u.value);const{isDragging:V,dragProgress:N}=Tt({el:L,isActive:s,isTemporary:w,width:i,touchless:H(()=>e.touchless),position:d}),W=x(()=>{const C=w.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):i.value;return V.value?C*N.value:C}),{layoutItemStyles:Q,layoutItemScrimStyles:Be}=Me({id:e.name,order:x(()=>parseInt(e.order,10)),position:d,layoutSize:W,elementSize:i,active:Xe(s),disableTransitions:H(()=>V.value),absolute:x(()=>e.absolute||S.value&&typeof ee.value!="string")}),{isStuck:ee,stickyStyles:Le}=St({rootEl:L,isSticky:S,layoutItemStyles:Q}),te=J(()=>typeof e.scrim=="string"?e.scrim:null),Ne=x(()=>({...V.value?{opacity:N.value*.2,transition:"none"}:void 0,...Be.value}));return Ue({VList:{bgColor:"transparent"}}),be(()=>{const C=t.image||e.image;return a(Je,null,[a(e.tag,le({ref:L,onMouseenter:$,onMouseleave:O,class:["v-navigation-drawer",`v-navigation-drawer--${d.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":M.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":w.value,"v-navigation-drawer--persistent":f.value,"v-navigation-drawer--active":s.value,"v-navigation-drawer--sticky":S.value},l.value,b.value,h.value,n.value,c.value,y.value,e.class],style:[p.value,Q.value,_.value,Le.value,e.style]},Y,v),{default:()=>{var ae,ne,oe;return[C&&a("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?a(Ze,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):a(qe,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&a("div",{class:"v-navigation-drawer__prepend"},[(ae=t.prepend)==null?void 0:ae.call(t)]),a("div",{class:"v-navigation-drawer__content"},[(ne=t.default)==null?void 0:ne.call(t)]),t.append&&a("div",{class:"v-navigation-drawer__append"},[(oe=t.append)==null?void 0:oe.call(t)])]}}),a(je,{name:"fade-transition"},{default:()=>[w.value&&(V.value||s.value)&&!!e.scrim&&a("div",le({class:["v-navigation-drawer__scrim",te.backgroundColorClasses.value],style:[Ne.value,te.backgroundColorStyles.value],onClick:()=>{f.value||(s.value=!1)}},Y),null)]})])}),{isStuck:ee}}}),Mt={class:"text-md-h3 text-md-h4 text-h5 text-primary"},It={class:"text-caption text-end w-100"},zt=et({__name:"PanelLayout",setup(e){const g=mt(),v=Ee(),k=nt(),t=tt(),r=vt(),l=F(!1),h=F(!1),b=async()=>{l.value=!0,await ct()&&k.push({name:"Login"}),l.value=!1},p=async()=>{r.getGradeDeadline()};return R(v.smAndDown,c=>{console.log(c),c||(h.value=!1)}),K(()=>{console.log("initLayout"),p()}),(c,n)=>{const u=se("LnxIcon"),y=se("RouterView");return j(),X(gt,{app:""},{default:o(()=>[a(Et,{modelValue:h.value,"onUpdate:modelValue":n[1]||(n[1]=m=>h.value=m),temporary:"",class:"border-r border-primary",color:"blue-grey-lighten-5",border:1},{append:o(()=>[a(q,{"three-line":""},{default:o(()=>[a(A,{class:"py-2 border-t"},{append:o(()=>[ot((j(),X(Z,{onClick:b,icon:"",density:"compact",variant:"tonal",loading:l.value},{default:o(()=>[a(u,{iconName:"logout-1"})]),_:1},8,["loading"])),[[dt,"Cerrar sesión","top"]])]),_:1})]),_:1})]),default:o(()=>[a(U,{elevation:"0",class:"rounded-0",color:"primary",variant:"tonal"},{default:o(()=>[a(at,{class:"text-center",onClick:n[0]||(n[0]=m=>P(k).push("/"))},{default:o(()=>n[4]||(n[4]=[T("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Logo_UNAP.png/640px-Logo_UNAP.png",alt:"logo",width:"70"},null,-1)])),_:1}),a(G,{class:"border-t py-2"},{default:o(()=>{var m,s;return[T("b",null,I(P(t).authState.user.name),1),n[5]||(n[5]=T("br",null,null,-1)),T("small",null,I((s=(m=P(t).authState.user)==null?void 0:m.role)==null?void 0:s.toUpperCase()),1)]}),_:1})]),_:1}),a(q,{nav:"",density:"compact",color:"primary"},{default:o(()=>[a(A,{key:"panel",title:"Panel",to:"/",link:"",exact:""},{prepend:o(()=>[a(u,{iconName:"element-4"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),a(ft,{app:"",class:"h-100"},{default:o(()=>{var m;return[a(ht,{class:"bg-white px-4 border-b",app:""},{default:o(()=>[a(st,{class:"ms-4 rounded-0",size:"40",onClick:n[2]||(n[2]=s=>c.$router.push("/"))},{default:o(()=>n[6]||(n[6]=[T("img",{src:wt,alt:"logo",width:"40"},null,-1)])),_:1}),a(ut),a(Z,{icon:"",class:"rounded-lg me-2 d-flex d-md-none",variant:"text",size:"small",onClick:n[3]||(n[3]=s=>h.value=!h.value)},{default:o(()=>[a(u,{iconName:"element-2"})]),_:1}),a(Z,{icon:"",class:"rounded-lg",variant:"tonal",size:"small"},{default:o(()=>[a(u,{iconName:"user"}),a(it,{activator:"parent"},{default:o(()=>[a(q,{density:"compact",nav:""},{default:o(()=>[a(A,{value:"profile"},{prepend:o(()=>[a(u,{iconName:"user"})]),default:o(()=>[a(ue,null,{default:o(()=>n[7]||(n[7]=[E(" Perfil ")])),_:1}),a(rt,null,{default:o(()=>{var s,_;return[T("small",null,I((_=(s=P(t).authState)==null?void 0:s.user)==null?void 0:_.name),1)]}),_:1})]),_:1}),a(A,{value:"logout",onClick:b,class:"text-red"},{prepend:o(()=>[a(u,{iconName:"logout-1"})]),default:o(()=>[a(ue,null,{default:o(()=>n[8]||(n[8]=[E(" Cerrar sesión ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(U,{class:"rounded-0 bg-white",elevation:"0"},{default:o(()=>[a(re,{class:"pb-0"},{default:o(()=>[a(ie,null,{default:o(()=>{var s;return[T("h3",Mt,I((s=P(g))==null?void 0:s.title),1)]}),_:1}),a(G,{class:"mb-2"},{default:o(()=>{var s;return[E(I((s=P(g))==null?void 0:s.subtitle),1)]}),_:1}),a(yt,{class:"mt-2 d-none d-md-flex"},{default:o(()=>[a(ce,{value:"Dashboard",link:"",exact:"",to:{name:"Dashboard"}},{default:o(()=>n[9]||(n[9]=[E(" Inicio")])),_:1}),a(ce,{value:"Groups",link:"",exact:"",to:{name:"GroupsView"}},{default:o(()=>n[10]||(n[10]=[E(" Grupos ")])),_:1})]),_:1})]),_:1})]),_:1}),(m=P(r).enrolled)!=null&&m.period?(j(),X(U,{key:0,color:"info",variant:"tonal",elevation:"0",class:"rounded-0"},{default:o(()=>[a(re,null,{default:o(()=>[a(ie,null,{default:o(()=>n[11]||(n[11]=[E(" ¡Matriculas habilitadas! ")])),_:1}),a(G,null,{default:o(()=>{var s;return[n[12]||(n[12]=E(" Las matrículas para el ciclo académico ")),T("b",null,I((s=P(r).enrolled)==null?void 0:s.period),1),n[13]||(n[13]=E(" están habilitadas. "))]}),_:1})]),_:1})]),_:1})):lt("",!0),a(y)]}),_:1}),a(bt,null,{default:o(()=>[T("span",It," © "+I(new Date().getFullYear())+" Instituto de Informática - UNAP. v1.0 ",1)]),_:1})]),_:1})}}});export{zt as default};
