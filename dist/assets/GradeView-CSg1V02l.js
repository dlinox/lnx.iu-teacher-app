import{h as N,d as p,a$ as V,a as u,V as f,w as d,j as e,i as h,ah as n,z as _,b5 as k,ac as b,b1 as x,c as g,k as I,b6 as B,o as r}from"./index-B4Q8W2lJ.js";import{f as G,d as O}from"./index-BVECOarq.js";import{V as S,a as U,b as A}from"./VRow-D1cBycFV.js";const F={class:"text-subtitle-2"},M={class:"border-s"},z=N({__name:"GradeView",setup(D){const y=B(),a=p(null),v=p(null),s=p({groupId:null,unitOrder:null}),c=p([]),C=()=>{var i;for(let t=1;t<=((i=a==null?void 0:a.value)==null?void 0:i.units);t++)c.value.push({title:a.value.curriculumId===1&&t==1?"Capacidades":a.value.curriculumId===1&&t==2?"Actitudes":`Unidad ${t}`,value:t}),console.log(c.value)},w=async()=>{console.log("handleChageUnit"),s.value.groupId=a==null?void 0:a.value.id,v.value=await G(s.value)};return(async()=>{const i=y.params.id;a.value=await O(i),C()})(),(i,t)=>(r(),V(b,null,[u(f,{title:"Calificaciones",subtitle:"Gestión de calificaciones",class:"rounded-0",elevation:"0"}),u(A,null,{default:d(()=>[u(f,null,{default:d(()=>[u(h,{class:"border-b"},{default:d(()=>[u(S,null,{default:d(()=>[u(U,{cols:"12",md:"8"},{default:d(()=>{var l,m,o;return[e("h4",null,n((l=a.value)==null?void 0:l.name)+" "+n((m=a.value)==null?void 0:m.course),1),e("span",F,n((o=a.value)==null?void 0:o.curriculum),1)]}),_:1}),u(U,{cols:"12",md:"4"},{default:d(()=>[u(_,{modelValue:s.value.unitOrder,"onUpdate:modelValue":[t[0]||(t[0]=l=>s.value.unitOrder=l),w],items:c.value,label:"Unidad","hide-details":""},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),u(h,null,{default:d(()=>[u(k,{class:"roudend-0"},{default:d(()=>[t[1]||(t[1]=e("thead",{class:"roudend-0 bg-primary"},[e("tr",null,[e("th",null,"N°"),e("th",null,"DNI"),e("th",null,"Nombre"),e("th",null,"Apellido Paterno"),e("th",null,"Apellido Materno"),e("th",{style:{width:"150px"}},"Calification")])],-1)),e("tbody",null,[(r(!0),V(b,null,x(v.value,(l,m)=>(r(),V("tr",{key:l.id},[e("td",null,n(m+1),1),e("td",null,n(l.documentNumber),1),e("td",null,n(l.name),1),e("td",null,n(l.lastNameFather),1),e("td",null,n(l.lastNameMother),1),e("td",M,[a.value.curriculumId==1&&l.gradeUnit.order==2?(r(),g(_,{key:0,modelValue:l.gradeUnit.grade,"onUpdate:modelValue":o=>l.gradeUnit.grade=o,density:"compact",readonly:"",items:[{title:"A",value:"2.00"},{title:"B",value:"1.00"},{title:"C",value:"0.00"}]},null,8,["modelValue","onUpdate:modelValue"])):(r(),g(I,{key:1,modelValue:l.gradeUnit.grade,"onUpdate:modelValue":o=>l.gradeUnit.grade=o,modelModifiers:{number:!0},type:"number",min:"0",max:"20",density:"compact"},null,8,["modelValue","onUpdate:modelValue"]))])]))),128))])]),_:1})]),_:1})]),_:1}),e("pre",null,n(c.value),1)]),_:1})],64))}});export{z as default};
