import{_ as ze}from"./logo-BOg40ReT.js";import{g as q,p as Z,d as U,y as oe,z as G,A as se,B as ie,C as ue,D as M,E as Oe,F as C,G as A,H as O,I as Pe,u as j,a as t,J as Y,K as re,L as J,M as de,N as ce,e as K,O as ve,P as me,Q as z,R as Be,S as $e,T as Ae,U as Ee,W as Ie,X as We,Y as Fe,Z as Xe,$ as Ue,a0 as Ge,a1 as qe,a2 as Ze,a3 as Ne,a4 as xe,a5 as je,a6 as Me,a7 as X,a8 as Je,a9 as Ke,aa as Qe,ab as et,ac as tt,h as at,ad as lt,c as Q,w as s,V as ee,j as nt,l as I,ae as ot,i as B,af as te,v as L,ag as ae,ah as F,r as Ve,ai as st,n as le,aj as it,ak as ut,al as rt,am as dt,an as Se,s as N,ao as ct,ap as ke,aq as vt,o as ne,ar as mt}from"./index-AI7jGR8d.js";import{u as gt}from"./period.stores-BZDtHYKe.js";import{u as ft}from"./heading.store-0hILGj0z.js";import{u as De,m as Le,V as ht,a as yt}from"./VMain-CjBq2_8N.js";import{V as Ce}from"./VContainer-CBXcsyS8.js";import{V as bt,a as pe}from"./VTabs-BSCdc2Np.js";import"./index-D1U-YKMo.js";const wt=Z({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...ve(),...K(),...ce(),...Le(),...de(),...J({tag:"footer"}),...re()},"VFooter"),xt=q()({name:"VFooter",props:wt(),setup(e,v){let{slots:l}=v;const x=U(),{themeClasses:a}=oe(e),{backgroundColorClasses:d,backgroundColorStyles:o}=G(()=>e.color),{borderClasses:h}=se(e),{elevationClasses:V}=ie(e),{roundedClasses:w}=ue(e),r=M(32),{resizeRef:n}=Oe(m=>{m.length&&(r.value=m[0].target.clientHeight)}),i=C(()=>e.height==="auto"?r.value:parseInt(e.height,10));return A(()=>e.app,()=>{const m=De({id:e.name,order:C(()=>parseInt(e.order,10)),position:O(()=>"bottom"),layoutSize:i,elementSize:C(()=>e.height==="auto"?void 0:i.value),active:O(()=>e.app),absolute:O(()=>e.absolute)});Pe(()=>{x.value=m.layoutItemStyles.value})}),j(()=>t(e.tag,{ref:n,class:["v-footer",a.value,d.value,h.value,V.value,w.value,e.class],style:[o.value,e.app?x.value:{height:Y(e.height)},e.style]},l)),{}}});function Vt(e){let{rootEl:v,isSticky:l,layoutItemStyles:x}=e;const a=M(!1),d=M(0),o=C(()=>{const w=typeof a.value=="boolean"?"top":a.value;return[l.value?{top:"auto",bottom:"auto",height:void 0}:void 0,a.value?{[w]:Y(d.value)}:{top:x.value.top}]});me(()=>{z(l,w=>{w?window.addEventListener("scroll",V,{passive:!0}):window.removeEventListener("scroll",V)},{immediate:!0})}),Be(()=>{window.removeEventListener("scroll",V)});let h=0;function V(){const w=h>window.scrollY?"up":"down",r=v.value.getBoundingClientRect(),n=parseFloat(x.value.top??0),i=window.scrollY-Math.max(0,d.value-n),m=r.height+Math.max(d.value,n)-window.scrollY-window.innerHeight,g=parseFloat(getComputedStyle(v.value).getPropertyValue("--v-body-scroll-y"))||0;r.height<window.innerHeight-n?(a.value="top",d.value=n):w==="up"&&a.value==="bottom"||w==="down"&&a.value==="top"?(d.value=window.scrollY+r.top-g,a.value=!0):w==="down"&&m<=0?(d.value=0,a.value="bottom"):w==="up"&&i<=0&&(g?a.value!=="top"&&(d.value=-i+g+n,a.value="top"):(d.value=r.top+i,a.value="top")),h=window.scrollY}return{isStuck:a,stickyStyles:o}}const St=100,kt=20;function Te(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function _e(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let v=0;for(let l=e.length-1;l>0;l--){if(e[l].t===e[l-1].t)continue;const x=Te(v),a=(e[l].d-e[l-1].d)/(e[l].t-e[l-1].t);v+=(a-x)*Math.abs(a),l===e.length-1&&(v*=.5)}return Te(v)*1e3}function Ct(){const e={};function v(a){Array.from(a.changedTouches).forEach(d=>{(e[d.identifier]??(e[d.identifier]=new $e(kt))).push([a.timeStamp,d])})}function l(a){Array.from(a.changedTouches).forEach(d=>{delete e[d.identifier]})}function x(a){var w;const d=(w=e[a])==null?void 0:w.values().reverse();if(!d)throw new Error(`No samples for touch id ${a}`);const o=d[0],h=[],V=[];for(const r of d){if(o[0]-r[0]>St)break;h.push({t:r[0],d:r[1].clientX}),V.push({t:r[0],d:r[1].clientY})}return{x:_e(h),y:_e(V),get direction(){const{x:r,y:n}=this,[i,m]=[Math.abs(r),Math.abs(n)];return i>m&&r>=0?"right":i>m&&r<=0?"left":m>i&&n>=0?"down":m>i&&n<=0?"up":pt()}}}return{addMovement:v,endTouch:l,getVelocity:x}}function pt(){throw new Error}function Tt(e){let{el:v,isActive:l,isTemporary:x,width:a,touchless:d,position:o}=e;me(()=>{window.addEventListener("touchstart",P,{passive:!0}),window.addEventListener("touchmove",_,{passive:!1}),window.addEventListener("touchend",D,{passive:!0})}),Be(()=>{window.removeEventListener("touchstart",P),window.removeEventListener("touchmove",_),window.removeEventListener("touchend",D)});const h=C(()=>["left","right"].includes(o.value)),{addMovement:V,endTouch:w,getVelocity:r}=Ct();let n=!1;const i=M(!1),m=M(0),g=M(0);let u;function T(c,f){return(o.value==="left"?c:o.value==="right"?document.documentElement.clientWidth-c:o.value==="top"?c:o.value==="bottom"?document.documentElement.clientHeight-c:R())-(f?a.value:0)}function E(c){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const y=o.value==="left"?(c-g.value)/a.value:o.value==="right"?(document.documentElement.clientWidth-c-g.value)/a.value:o.value==="top"?(c-g.value)/a.value:o.value==="bottom"?(document.documentElement.clientHeight-c-g.value)/a.value:R();return f?Math.max(0,Math.min(1,y)):y}function P(c){if(d.value)return;const f=c.changedTouches[0].clientX,y=c.changedTouches[0].clientY,b=25,S=o.value==="left"?f<b:o.value==="right"?f>document.documentElement.clientWidth-b:o.value==="top"?y<b:o.value==="bottom"?y>document.documentElement.clientHeight-b:R(),k=l.value&&(o.value==="left"?f<a.value:o.value==="right"?f>document.documentElement.clientWidth-a.value:o.value==="top"?y<a.value:o.value==="bottom"?y>document.documentElement.clientHeight-a.value:R());(S||k||l.value&&x.value)&&(u=[f,y],g.value=T(h.value?f:y,l.value),m.value=E(h.value?f:y),n=g.value>-20&&g.value<80,w(c),V(c))}function _(c){const f=c.changedTouches[0].clientX,y=c.changedTouches[0].clientY;if(n){if(!c.cancelable){n=!1;return}const S=Math.abs(f-u[0]),k=Math.abs(y-u[1]);(h.value?S>k&&S>3:k>S&&k>3)?(i.value=!0,n=!1):(h.value?k:S)>3&&(n=!1)}if(!i.value)return;c.preventDefault(),V(c);const b=E(h.value?f:y,!1);m.value=Math.max(0,Math.min(1,b)),b>1?g.value=T(h.value?f:y,!0):b<0&&(g.value=T(h.value?f:y,!1))}function D(c){if(n=!1,!i.value)return;V(c),i.value=!1;const f=r(c.changedTouches[0].identifier),y=Math.abs(f.x),b=Math.abs(f.y);(h.value?y>b&&y>400:b>y&&b>3)?l.value=f.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||R()):l.value=m.value>.5}const $=C(()=>i.value?{transform:o.value==="left"?`translateX(calc(-100% + ${m.value*a.value}px))`:o.value==="right"?`translateX(calc(100% - ${m.value*a.value}px))`:o.value==="top"?`translateY(calc(-100% + ${m.value*a.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${m.value*a.value}px))`:R(),transition:"none"}:void 0);return A(i,()=>{var y,b;const c=((y=v.value)==null?void 0:y.style.transform)??null,f=((b=v.value)==null?void 0:b.style.transition)??null;Pe(()=>{var S,k,H,W;(k=v.value)==null||k.style.setProperty("transform",((S=$.value)==null?void 0:S.transform)||"none"),(W=v.value)==null||W.style.setProperty("transition",((H=$.value)==null?void 0:H.transition)||null)}),Ae(()=>{var S,k;(S=v.value)==null||S.style.setProperty("transform",c),(k=v.value)==null||k.style.setProperty("transition",f)})}),{isDragging:i,dragProgress:m,dragStyles:$}}function R(){throw new Error}const _t=["start","end","left","right","top","bottom"],Pt=Z({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>_t.includes(e)},sticky:Boolean,...ve(),...K(),...et(),...Qe({mobile:null}),...ce(),...Le(),...de(),...J({tag:"nav"}),...re()},"VNavigationDrawer"),Bt=q()({name:"VNavigationDrawer",props:Pt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,v){let{attrs:l,emit:x,slots:a}=v;const{isRtl:d}=Ee(),{themeClasses:o}=oe(e),{borderClasses:h}=se(e),{backgroundColorClasses:V,backgroundColorStyles:w}=G(()=>e.color),{elevationClasses:r}=ie(e),{displayClasses:n,mobile:i}=Ie(e),{roundedClasses:m}=ue(e),g=We(),u=Fe(e,"modelValue",null,p=>!!p),{ssrBootStyles:T}=Xe(),{scopeId:E}=Ue(),P=U(),_=M(!1),{runOpenDelay:D,runCloseDelay:$}=je(e,p=>{_.value=p}),c=C(()=>e.rail&&e.expandOnHover&&_.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),f=C(()=>Ge(e.location,d.value)),y=O(()=>e.persistent),b=C(()=>!e.permanent&&(i.value||e.temporary)),S=C(()=>e.sticky&&!b.value&&f.value!=="bottom");A(()=>e.expandOnHover&&e.rail!=null,()=>{z(_,p=>x("update:rail",!p))}),A(()=>!e.disableResizeWatcher,()=>{z(b,p=>!e.permanent&&qe(()=>u.value=!p))}),A(()=>!e.disableRouteWatcher&&!!g,()=>{z(g.currentRoute,()=>b.value&&(u.value=!1))}),z(()=>e.permanent,p=>{p&&(u.value=!0)}),e.modelValue==null&&!b.value&&(u.value=e.permanent||!i.value);const{isDragging:k,dragProgress:H}=Tt({el:P,isActive:u,isTemporary:b,width:c,touchless:O(()=>e.touchless),position:f}),W=C(()=>{const p=b.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):c.value;return k.value?p*H.value:p}),{layoutItemStyles:ge,layoutItemScrimStyles:He}=De({id:e.name,order:C(()=>parseInt(e.order,10)),position:f,layoutSize:W,elementSize:c,active:Ze(u),disableTransitions:O(()=>k.value),absolute:C(()=>e.absolute||S.value&&typeof fe.value!="string")}),{isStuck:fe,stickyStyles:Re}=Vt({rootEl:P,isSticky:S,layoutItemStyles:ge}),he=G(()=>typeof e.scrim=="string"?e.scrim:null),Ye=C(()=>({...k.value?{opacity:H.value*.2,transition:"none"}:void 0,...He.value}));return Ne({VList:{bgColor:"transparent"}}),j(()=>{const p=a.image||e.image;return t(Ke,null,[t(e.tag,xe({ref:P,onMouseenter:D,onMouseleave:$,class:["v-navigation-drawer",`v-navigation-drawer--${f.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":_.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":b.value,"v-navigation-drawer--persistent":y.value,"v-navigation-drawer--active":u.value,"v-navigation-drawer--sticky":S.value},o.value,V.value,h.value,n.value,r.value,m.value,e.class],style:[w.value,ge.value,T.value,Re.value,e.style]},E,l),{default:()=>{var ye,be,we;return[p&&t("div",{key:"image",class:"v-navigation-drawer__img"},[a.image?t(X,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},a.image):t(Me,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),a.prepend&&t("div",{class:"v-navigation-drawer__prepend"},[(ye=a.prepend)==null?void 0:ye.call(a)]),t("div",{class:"v-navigation-drawer__content"},[(be=a.default)==null?void 0:be.call(a)]),a.append&&t("div",{class:"v-navigation-drawer__append"},[(we=a.append)==null?void 0:we.call(a)])]}}),t(Je,{name:"fade-transition"},{default:()=>[b.value&&(k.value||u.value)&&!!e.scrim&&t("div",xe({class:["v-navigation-drawer__scrim",he.backgroundColorClasses.value],style:[Ye.value,he.backgroundColorStyles.value],onClick:()=>{y.value||(u.value=!1)}},E),null)]})])}),{isStuck:fe}}}),Et=Z({text:String,...K(),...J()},"VToolbarTitle"),It=q()({name:"VToolbarTitle",props:Et(),setup(e,v){let{slots:l}=v;return j(()=>{const x=!!(l.default||l.text||e.text);return t(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var a;return[x&&t("div",{class:"v-toolbar-title__placeholder"},[l.text?l.text():e.text,(a=l.default)==null?void 0:a.call(l)])]}})}),{}}}),Nt=[null,"prominent","default","comfortable","compact"],Mt=Z({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Nt.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...ve(),...K(),...ce(),...de(),...J({tag:"header"}),...re()},"VToolbar"),Dt=q()({name:"VToolbar",props:Mt(),setup(e,v){var m;let{slots:l}=v;const{backgroundColorClasses:x,backgroundColorStyles:a}=G(()=>e.color),{borderClasses:d}=se(e),{elevationClasses:o}=ie(e),{roundedClasses:h}=ue(e),{themeClasses:V}=oe(e),{rtlClasses:w}=Ee(),r=M(!!(e.extended||(m=l.extension)!=null&&m.call(l))),n=C(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),i=C(()=>r.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return Ne({VBtn:{variant:"text"}}),j(()=>{var E;const g=!!(e.title||l.title),u=!!(l.image||e.image),T=(E=l.extension)==null?void 0:E.call(l);return r.value=!!(e.extended||T),t(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},x.value,d.value,o.value,h.value,V.value,w.value,e.class],style:[a.value,e.style]},{default:()=>[u&&t("div",{key:"image",class:"v-toolbar__image"},[l.image?t(X,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},l.image):t(Me,{key:"image-img",cover:!0,src:e.image},null)]),t(X,{defaults:{VTabs:{height:Y(n.value)}}},{default:()=>{var P,_,D;return[t("div",{class:"v-toolbar__content",style:{height:Y(n.value)}},[l.prepend&&t("div",{class:"v-toolbar__prepend"},[(P=l.prepend)==null?void 0:P.call(l)]),g&&t(It,{key:"title",text:e.title},{text:l.title}),(_=l.default)==null?void 0:_.call(l),l.append&&t("div",{class:"v-toolbar__append"},[(D=l.append)==null?void 0:D.call(l)])])]}}),t(X,{defaults:{VTabs:{height:Y(i.value)}}},{default:()=>[t(tt,null,{default:()=>[r.value&&t("div",{class:"v-toolbar__extension",style:{height:Y(i.value)}},[T])]})]})]})}),{contentHeight:n,extensionHeight:i}}}),Lt={class:"text-md-h3 text-md-h4 text-h5 text-primary"},Ht={class:"text-caption text-end w-100"},Xt=at({__name:"PanelLayout",setup(e){const v=ft(),l=Ie(),x=ot(),a=lt(),d=gt(),o=U(!1),h=U(!1),V=async()=>{o.value=!0,await vt()&&x.push({name:"Login"}),o.value=!1},w=async()=>{d.getGradeDeadline()};return z(l.smAndDown,r=>{console.log(r),r||(h.value=!1)}),me(()=>{console.log("initLayout"),w()}),(r,n)=>{const i=Ve("LnxIcon"),m=Ve("RouterView");return ne(),Q(yt,{app:""},{default:s(()=>[t(Bt,{modelValue:h.value,"onUpdate:modelValue":n[1]||(n[1]=g=>h.value=g),temporary:"",class:"border-r border-primary",color:"blue-grey-lighten-5",border:1},{append:s(()=>[t(ae,{"three-line":""},{default:s(()=>[t(F,{class:"py-2 border-t"},{append:s(()=>[st((ne(),Q(le,{onClick:V,icon:"",density:"compact",variant:"tonal",loading:o.value},{default:s(()=>[t(i,{iconName:"logout-1"})]),_:1},8,["loading"])),[[mt,"Cerrar sesión","top"]])]),_:1})]),_:1})]),default:s(()=>[t(ee,{elevation:"0",class:"rounded-0",color:"primary",variant:"tonal"},{default:s(()=>[t(nt,{class:"text-center",onClick:n[0]||(n[0]=g=>I(x).push("/"))},{default:s(()=>n[4]||(n[4]=[B("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Logo_UNAP.png/640px-Logo_UNAP.png",alt:"logo",width:"70"},null,-1)])),_:1}),t(te,{class:"border-t py-2"},{default:s(()=>{var g,u;return[B("b",null,L(I(a).authState.user.name),1),n[5]||(n[5]=B("br",null,null,-1)),B("small",null,L((u=(g=I(a).authState.user)==null?void 0:g.role)==null?void 0:u.toUpperCase()),1)]}),_:1})]),_:1}),t(ae,{nav:"",density:"compact",color:"primary"},{default:s(()=>[t(F,{key:"panel",title:"Panel",to:"/",link:"",exact:""},{prepend:s(()=>[t(i,{iconName:"element-4"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),t(ht,{app:"",class:"h-100"},{default:s(()=>{var g;return[t(Dt,{class:"bg-white px-4 border-b",app:""},{default:s(()=>[t(ut,{class:"ms-4 rounded-0",size:"40",onClick:n[2]||(n[2]=u=>r.$router.push("/"))},{default:s(()=>n[6]||(n[6]=[B("img",{src:ze,alt:"logo",width:"40"},null,-1)])),_:1}),t(rt),t(le,{icon:"",class:"rounded-lg me-2 d-flex d-md-none",variant:"text",size:"small",onClick:n[3]||(n[3]=u=>h.value=!h.value)},{default:s(()=>[t(i,{iconName:"element-2"})]),_:1}),t(le,{icon:"",class:"rounded-lg",variant:"tonal",size:"small"},{default:s(()=>[t(i,{iconName:"user"}),t(dt,{activator:"parent"},{default:s(()=>[t(ae,{density:"compact",nav:""},{default:s(()=>[t(F,{value:"profile"},{prepend:s(()=>[t(i,{iconName:"user"})]),default:s(()=>[t(Se,null,{default:s(()=>n[7]||(n[7]=[N(" Perfil ")])),_:1}),t(ct,null,{default:s(()=>{var u,T;return[B("small",null,L((T=(u=I(a).authState)==null?void 0:u.user)==null?void 0:T.name),1)]}),_:1})]),_:1}),t(F,{value:"logout",onClick:V,class:"text-red"},{prepend:s(()=>[t(i,{iconName:"logout-1"})]),default:s(()=>[t(Se,null,{default:s(()=>n[8]||(n[8]=[N(" Cerrar sesión ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(ee,{class:"rounded-0 bg-white",elevation:"0"},{default:s(()=>[t(Ce,{class:"pb-0"},{default:s(()=>[t(ke,null,{default:s(()=>{var u;return[B("h3",Lt,L((u=I(v))==null?void 0:u.title),1)]}),_:1}),t(te,{class:"mb-2"},{default:s(()=>{var u;return[N(L((u=I(v))==null?void 0:u.subtitle),1)]}),_:1}),t(bt,{class:"mt-2 d-none d-md-flex"},{default:s(()=>[t(pe,{value:"Dashboard",link:"",exact:"",to:{name:"Dashboard"}},{default:s(()=>n[9]||(n[9]=[N(" Inicio")])),_:1}),t(pe,{value:"Groups",link:"",exact:"",to:{name:"GroupsView"}},{default:s(()=>n[10]||(n[10]=[N(" Grupos ")])),_:1})]),_:1})]),_:1})]),_:1}),(g=I(d).enrolled)!=null&&g.period?(ne(),Q(ee,{key:0,color:"info",variant:"tonal",elevation:"0",class:"rounded-0"},{default:s(()=>[t(Ce,null,{default:s(()=>[t(ke,null,{default:s(()=>n[11]||(n[11]=[N(" ¡Matriculas habilitadas! ")])),_:1}),t(te,null,{default:s(()=>{var u;return[n[12]||(n[12]=N(" Las matrículas para el ciclo académico ")),B("b",null,L((u=I(d).enrolled)==null?void 0:u.period),1),n[13]||(n[13]=N(" están habilitadas. "))]}),_:1})]),_:1})]),_:1})):it("",!0),t(m)]}),_:1}),t(xt,null,{default:s(()=>[B("span",Ht," © "+L(new Date().getFullYear())+" Instituto de Informática - UNAP. v1.0 ",1)]),_:1})]),_:1})}}});export{Xt as default};
