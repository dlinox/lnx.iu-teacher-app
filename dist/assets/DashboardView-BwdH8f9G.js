import{u as ze,_ as Ke}from"./period.stores-3bcy4P8S.js";import{_ as je}from"./index-DzuRAgcC.js";import{g as Se,p as _e,aA as He,d as E,B as U,H as ue,C as x,aB as We,aC as Ge,aD as $e,aE as qe,aF as Je,aG as Qe,E as X,a6 as ve,aH as Xe,u as Ce,k as fe,a as l,M as B,f as Ye,aI as Ze,aJ as et,aK as tt,aL as lt,aM as at,aN as me,aO as ge,aP as nt,ac as D,aQ as se,aR as ut,aS as ot,aj as it,ak as ye,aT as st,aU as rt,aV as ct,aW as dt,aX as be,aa as re,n as w,N as vt,O as ft,L as mt,ax as gt,a2 as yt,a9 as ht,T as Vt,l as xe,U as kt,aY as pt,ay as St,e as _t,aZ as Ct,h as bt,a_ as oe,V as ie,w as r,c as Y,i as he,a$ as Ve,ag as N,b0 as ke,ah as A,j as O,o as R}from"./index-DsGDyTjR.js";import{V as pe,a as z,b as xt}from"./VRow-DJcp50Gg.js";function wt(e,p,a){if(p==null)return e;if(Array.isArray(p))throw new Error("Multiple matches is not implemented");return typeof p=="number"&&~p?l(D,null,[l("span",{class:"v-autocomplete__unmask"},[e.substr(0,p)]),l("span",{class:"v-autocomplete__mask"},[e.substr(p,a)]),l("span",{class:"v-autocomplete__unmask"},[e.substr(p+a)])]):e}const It=_e({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...lt({filterKeys:["title"]}),...tt(),...et(at({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ze({transition:!1})},"VAutocomplete"),Pt=Se()({name:"VAutocomplete",props:It(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,p){let{slots:a}=p;const{t:o}=He(),m=E(),k=U(!1),b=U(!0),I=U(!1),f=E(),g=E(),C=ue(e,"menu"),d=x({get:()=>C.value,set:t=>{var n;C.value&&!t&&((n=f.value)!=null&&n.ΨopenChildren.size)||(C.value=t)}}),s=U(-1),Z=x(()=>{var t;return(t=m.value)==null?void 0:t.color}),K=x(()=>d.value?e.closeText:e.openText),{items:T,transformIn:j,transformOut:H}=We(e),{textColorClasses:W,textColorStyles:G}=Ge(Z),y=ue(e,"search",""),i=ue(e,"modelValue",[],t=>j(t===null?[null]:$e(t)),t=>{const n=H(t);return e.multiple?n:n[0]??null}),we=x(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:i.value.length),$=qe(e),{filteredItems:ee,getMatches:Ie}=Je(e,T,()=>b.value?"":y.value),P=x(()=>e.hideSelected?ee.value.filter(t=>!i.value.some(n=>n.value===t.value)):ee.value),q=x(()=>!!(e.chips||a.chip)),L=x(()=>q.value||!!a.selection),Pe=x(()=>i.value.map(t=>t.props.value)),te=x(()=>{var n;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&y.value===((n=P.value[0])==null?void 0:n.title))&&P.value.length>0&&!b.value&&!I.value}),le=x(()=>e.hideNoData&&!P.value.length||$.isReadonly.value||$.isDisabled.value),ae=E(),Ae=Qe(ae,m);function De(t){e.openOnClear&&(d.value=!0),y.value=""}function Te(){le.value||(d.value=!0)}function Fe(t){le.value||(k.value&&(t.preventDefault(),t.stopPropagation()),d.value=!d.value)}function Re(t){var n;t.key!==" "&&me(t)&&((n=m.value)==null||n.focus())}function Ee(t){var u,c,S;if($.isReadonly.value)return;const n=m.value.selectionStart,v=i.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(d.value=!0),["Escape"].includes(t.key)&&(d.value=!1),te.value&&["Enter","Tab"].includes(t.key)&&!i.value.some(h=>{let{value:V}=h;return V===P.value[0].value})&&F(P.value[0]),t.key==="ArrowDown"&&te.value&&((u=ae.value)==null||u.focus("next")),["Backspace","Delete"].includes(t.key)){if(!e.multiple&&L.value&&i.value.length>0&&!y.value)return F(i.value[0],!1);if(~s.value){t.preventDefault();const h=s.value;F(i.value[s.value],!1),s.value=h>=v-1?v-2:h}else t.key==="Backspace"&&!y.value&&(s.value=v-1);return}if(e.multiple)if(t.key==="ArrowLeft"){if(s.value<0&&n>0)return;const h=s.value>-1?s.value-1:v-1;i.value[h]?s.value=h:(s.value=-1,m.value.setSelectionRange((c=y.value)==null?void 0:c.length,(S=y.value)==null?void 0:S.length))}else if(t.key==="ArrowRight"){if(s.value<0)return;const h=s.value+1;i.value[h]?s.value=h:(s.value=-1,m.value.setSelectionRange(0,0))}else~s.value&&me(t)&&(s.value=-1)}function Me(t){if(ge(m.value,":autofill")||ge(m.value,":-webkit-autofill")){const n=T.value.find(v=>v.title===t.target.value);n&&F(n)}}function Be(){var t;e.eager&&((t=g.value)==null||t.calculateVisibleItems())}function Ne(){var t;k.value&&(b.value=!0,(t=m.value)==null||t.focus())}function Le(t){k.value=!0,setTimeout(()=>{I.value=!0})}function Ue(t){I.value=!1}function Oe(t){(t==null||t===""&&!e.multiple&&!L.value)&&(i.value=[])}const ne=U(!1);function F(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!t||t.props.disabled))if(e.multiple){const v=i.value.findIndex(c=>(e.valueComparator||nt)(c.value,t.value)),u=n??!~v;if(~v){const c=u?[...i.value,t]:[...i.value];c.splice(v,1),i.value=c}else u&&(i.value=[...i.value,t]);e.clearOnSelect&&(y.value="")}else{const v=n!==!1;i.value=v?[t]:[],y.value=v&&!L.value?t.title:"",ve(()=>{d.value=!1,b.value=!0})}}return X(k,(t,n)=>{var v;t!==n&&(t?(ne.value=!0,y.value=e.multiple||L.value?"":String(((v=i.value.at(-1))==null?void 0:v.props.title)??""),b.value=!0,ve(()=>ne.value=!1)):(!e.multiple&&y.value==null&&(i.value=[]),d.value=!1,i.value.some(u=>{let{title:c}=u;return c===y.value})||(y.value=""),s.value=-1))}),X(y,t=>{!k.value||ne.value||(t&&(d.value=!0),b.value=!t)}),X(d,()=>{if(!e.hideSelected&&d.value&&i.value.length){const t=P.value.findIndex(n=>i.value.some(v=>n.value===v.value));Xe&&window.requestAnimationFrame(()=>{var n;t>=0&&((n=g.value)==null||n.scrollToIndex(t))})}}),X(()=>e.items,(t,n)=>{d.value||k.value&&!n.length&&t.length&&(d.value=!0)}),Ce(()=>{const t=!!(!e.hideNoData||P.value.length||a["prepend-item"]||a["append-item"]||a["no-data"]),n=i.value.length>0,v=fe.filterProps(e);return l(fe,B({ref:m},v,{modelValue:y.value,"onUpdate:modelValue":[u=>y.value=u,Oe],focused:k.value,"onUpdate:focused":u=>k.value=u,validationValue:i.externalValue,counterValue:we.value,dirty:n,onChange:Me,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!L.value,"v-autocomplete--selecting-index":s.value>-1},e.class],style:e.style,readonly:$.isReadonly.value,placeholder:n?void 0:e.placeholder,"onClick:clear":De,"onMousedown:control":Te,onKeydown:Ee}),{...a,default:()=>l(D,null,[l(ot,B({ref:f,modelValue:d.value,"onUpdate:modelValue":u=>d.value=u,activator:"parent",contentClass:"v-autocomplete__content",disabled:le.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Be,onAfterLeave:Ne},e.menuProps),{default:()=>[t&&l(it,B({ref:ae,selected:Pe.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:u=>u.preventDefault(),onKeydown:Re,onFocusin:Le,onFocusout:Ue,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Ae,e.listProps),{default:()=>{var u,c,S;return[(u=a["prepend-item"])==null?void 0:u.call(a),!P.value.length&&!e.hideNoData&&(((c=a["no-data"])==null?void 0:c.call(a))??l(ye,{key:"no-data",title:o(e.noDataText)},null)),l(st,{ref:g,renderless:!0,items:P.value},{default:h=>{var de;let{item:V,index:M,itemRef:_}=h;const ce=B(V.props,{ref:_,key:V.value,active:te.value&&M===0?!0:void 0,onClick:()=>F(V,null)});return((de=a.item)==null?void 0:de.call(a,{item:V,index:M,props:ce}))??l(ye,B(ce,{role:"option"}),{prepend:J=>{let{isSelected:Q}=J;return l(D,null,[e.multiple&&!e.hideSelected?l(rt,{key:V.value,modelValue:Q,ripple:!1,tabindex:"-1"},null):void 0,V.props.prependAvatar&&l(ct,{image:V.props.prependAvatar},null),V.props.prependIcon&&l(se,{icon:V.props.prependIcon},null)])},title:()=>{var J,Q;return b.value?V.title:wt(V.title,(J=Ie(V))==null?void 0:J.title,((Q=y.value)==null?void 0:Q.length)??0)}})}}),(S=a["append-item"])==null?void 0:S.call(a)]}})]}),i.value.map((u,c)=>{function S(_){_.stopPropagation(),_.preventDefault(),F(u,!1)}const h={"onClick:close":S,onKeydown(_){_.key!=="Enter"&&_.key!==" "||(_.preventDefault(),_.stopPropagation(),S(_))},onMousedown(_){_.preventDefault(),_.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},V=q.value?!!a.chip:!!a.selection,M=V?dt(q.value?a.chip({item:u,index:c,props:h}):a.selection({item:u,index:c})):void 0;if(!(V&&!M))return l("div",{key:u.value,class:["v-autocomplete__selection",c===s.value&&["v-autocomplete__selection--selected",W.value]],style:c===s.value?G.value:{}},[q.value?a.chip?l(re,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:u.title}}},{default:()=>[M]}):l(be,B({key:"chip",closable:e.closableChips,size:"small",text:u.title,disabled:u.props.disabled},h),null):M??l("span",{class:"v-autocomplete__selection-text"},[u.title,e.multiple&&c<i.value.length-1&&l("span",{class:"v-autocomplete__selection-comma"},[w(",")])])])})]),"append-inner":function(){var h;for(var u=arguments.length,c=new Array(u),S=0;S<u;S++)c[S]=arguments[S];return l(D,null,[(h=a["append-inner"])==null?void 0:h.call(a,...c),e.menuIcon?l(se,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Fe,onClick:ut,"aria-label":o(K.value),title:o(K.value),tabindex:"-1"},null):void 0])}})}),Ye({isFocused:k,isPristine:b,menu:d,search:y,filteredItems:ee,select:F},m)}}),At=_e({actionText:String,bgColor:String,color:String,icon:Ct,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,..._t(),...St(),...pt({size:void 0}),...kt()},"VEmptyState"),Dt=Se()({name:"VEmptyState",props:At(),emits:{"click:action":e=>!0},setup(e,p){let{emit:a,slots:o}=p;const{themeClasses:m}=vt(e),{backgroundColorClasses:k,backgroundColorStyles:b}=ft(mt(e,"bgColor")),{dimensionStyles:I}=gt(e),{displayClasses:f}=yt();function g(C){a("click:action",C)}return Ce(()=>{var j,H,W;const C=!!(o.actions||e.actionText),d=!!(o.headline||e.headline),s=!!(o.title||e.title),Z=!!(o.text||e.text),K=!!(o.media||e.image||e.icon),T=e.size||(e.image?200:96);return l("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},m.value,k.value,f.value,e.class],style:[b.value,I.value,e.style]},[K&&l("div",{key:"media",class:"v-empty-state__media"},[o.media?l(re,{key:"media-defaults",defaults:{VImg:{src:e.image,height:T},VIcon:{size:T,icon:e.icon}}},{default:()=>[o.media()]}):l(D,null,[e.image?l(ht,{key:"image",src:e.image,height:T},null):e.icon?l(se,{key:"icon",color:e.color,size:T,icon:e.icon},null):void 0])]),d&&l("div",{key:"headline",class:"v-empty-state__headline"},[((j=o.headline)==null?void 0:j.call(o))??e.headline]),s&&l("div",{key:"title",class:"v-empty-state__title"},[((H=o.title)==null?void 0:H.call(o))??e.title]),Z&&l("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Vt(e.textWidth)}},[((W=o.text)==null?void 0:W.call(o))??e.text]),o.default&&l("div",{key:"content",class:"v-empty-state__content"},[o.default()]),C&&l("div",{key:"actions",class:"v-empty-state__actions"},[l(re,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",text:e.actionText}}},{default:()=>{var G;return[((G=o.actions)==null?void 0:G.call(o,{props:{onClick:g}}))??l(xe,{onClick:g},null)]}})])])}),{}}}),Mt=bt({__name:"DashboardView",setup(e){const p=ze(),a=E([]),o=E([]),m=E(null),k=async()=>{o.value=await je(m.value)};return(async()=>{var I;a.value=await Ke(),m.value=(I=p.current)==null?void 0:I.id,await k()})(),(I,f)=>(R(),oe(D,null,[l(ie,{title:"Bienvenido",subtitle:"Instituto de Informática UNA - PUNO",class:"rounded-0",elevation:"0"}),l(xt,null,{default:r(()=>[l(ie,{elevation:"0",class:"rounded-0 border"},{default:r(()=>[l(he,null,{default:r(()=>[l(pe,{justify:"space-between"},{default:r(()=>[l(z,{cols:"12",md:"7"},{default:r(()=>[l(Ve,null,{default:r(()=>f[1]||(f[1]=[w("Grupos")])),_:1}),l(N,null,{default:r(()=>f[2]||(f[2]=[w("Lista de grupos asignados")])),_:1})]),_:1}),l(z,{cols:"12",md:"4"},{default:r(()=>[l(Pt,{modelValue:m.value,"onUpdate:modelValue":[f[0]||(f[0]=g=>m.value=g),k],label:"Periodos",items:a.value,"hide-details":"auto"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),o.value.length>0?(R(),Y(ie,{key:0,elevation:"0",class:"rounded-0 border"},{default:r(()=>[(R(!0),oe(D,null,ke(o.value,g=>(R(),Y(he,{class:"border-b",key:g.id},{default:r(()=>[l(pe,null,{default:r(()=>[l(z,{cols:"8",md:"6"},{default:r(()=>[l(N,null,{default:r(()=>[l(be,{color:"primary",rounded:"0",label:""},{default:r(()=>[w(A(g.modality),1)]),_:2},1024)]),_:2},1024),l(Ve,null,{default:r(()=>[O("strong",null,A(g.name),1),w(" | "+A(g.course),1)]),_:2},1024),l(N,null,{default:r(()=>[f[3]||(f[3]=O("b",null,"Plan de estudio: ",-1)),w(" "+A(g.curriculum),1)]),_:2},1024),l(N,null,{default:r(()=>[f[4]||(f[4]=O("b",null,"Modulo: ",-1)),w(A(g.module),1)]),_:2},1024),l(N,null,{default:r(()=>[f[5]||(f[5]=O("b",null,"Area: ",-1)),w(" "+A(g.area),1)]),_:2},1024)]),_:2},1024),l(z,{cols:"8",md:"4",class:"align-self-end"},{default:r(()=>[(R(!0),oe(D,null,ke(g.schedules,C=>(R(),Y(N,{key:C.id},{default:r(()=>[O("b",null,A(C.day),1),w(" "+A(C.start_hour)+" - "+A(C.end_hour),1)]),_:2},1024))),128))]),_:2},1024),l(z,{cols:"12",md:"2",class:"align-self-center"},{default:r(()=>[l(xe,{color:"primary",block:"",link:"",to:`/group/${g.id}`},{default:r(()=>f[6]||(f[6]=[w(" ver grupo ")])),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(R(),Y(Dt,{key:1,headline:"Sin datos",text:"No se encontraron grupos asignados para este periodo seleccionado",title:"No hay grupos"}))]),_:1})],64))}});export{Mt as default};
