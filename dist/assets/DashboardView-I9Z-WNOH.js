import{u as ze,_ as Ke}from"./period.stores-BoHgsqu9.js";import{_ as je}from"./index-X749UGsm.js";import{g as _e,p as Se,aA as He,d as E,B as L,H as ue,C as x,aB as We,aC as Ge,aD as $e,aE as qe,aF as Je,aG as Qe,E as Q,a6 as ve,aH as Xe,u as Ce,k as fe,a,M as B,f as Ye,aI as Ze,aJ as et,aK as tt,aL as at,aM as lt,aN as me,aO as ge,aP as nt,ac as D,aQ as se,aR as ut,aS as ot,aj as it,ak as ye,aT as st,aU as rt,aV as ct,aW as dt,aX as be,aa as re,n as P,N as vt,O as ft,L as mt,ax as gt,a2 as yt,a9 as ht,T as Vt,l as xe,U as kt,aY as pt,ay as _t,e as St,aZ as Ct,h as bt,a_ as oe,V as ie,w as c,c as X,i as he,a$ as Ve,ag as U,b0 as ke,ah as A,j as Y,o as R}from"./index-thyg4rso.js";import{V as pe,a as O,b as xt}from"./VRow-CzbGC0FY.js";function wt(e,p,l){if(p==null)return e;if(Array.isArray(p))throw new Error("Multiple matches is not implemented");return typeof p=="number"&&~p?a(D,null,[a("span",{class:"v-autocomplete__unmask"},[e.substr(0,p)]),a("span",{class:"v-autocomplete__mask"},[e.substr(p,l)]),a("span",{class:"v-autocomplete__unmask"},[e.substr(p+l)])]):e}const It=Se({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...at({filterKeys:["title"]}),...tt(),...et(lt({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ze({transition:!1})},"VAutocomplete"),Pt=_e()({name:"VAutocomplete",props:It(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,p){let{slots:l}=p;const{t:o}=He(),f=E(),k=L(!1),b=L(!0),w=L(!1),y=E(),h=E(),C=ue(e,"menu"),d=x({get:()=>C.value,set:t=>{var n;C.value&&!t&&((n=y.value)!=null&&n.ΨopenChildren.size)||(C.value=t)}}),s=L(-1),Z=x(()=>{var t;return(t=f.value)==null?void 0:t.color}),z=x(()=>d.value?e.closeText:e.openText),{items:T,transformIn:K,transformOut:j}=We(e),{textColorClasses:H,textColorStyles:W}=Ge(Z),m=ue(e,"search",""),i=ue(e,"modelValue",[],t=>K(t===null?[null]:$e(t)),t=>{const n=j(t);return e.multiple?n:n[0]??null}),we=x(()=>typeof e.counterValue=="function"?e.counterValue(i.value):typeof e.counterValue=="number"?e.counterValue:i.value.length),G=qe(e),{filteredItems:ee,getMatches:Ie}=Je(e,T,()=>b.value?"":m.value),I=x(()=>e.hideSelected?ee.value.filter(t=>!i.value.some(n=>n.value===t.value)):ee.value),$=x(()=>!!(e.chips||l.chip)),N=x(()=>$.value||!!l.selection),Pe=x(()=>i.value.map(t=>t.props.value)),te=x(()=>{var n;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&m.value===((n=I.value[0])==null?void 0:n.title))&&I.value.length>0&&!b.value&&!w.value}),ae=x(()=>e.hideNoData&&!I.value.length||G.isReadonly.value||G.isDisabled.value),le=E(),Ae=Qe(le,f);function De(t){e.openOnClear&&(d.value=!0),m.value=""}function Te(){ae.value||(d.value=!0)}function Fe(t){ae.value||(k.value&&(t.preventDefault(),t.stopPropagation()),d.value=!d.value)}function Re(t){var n;t.key!==" "&&me(t)&&((n=f.value)==null||n.focus())}function Ee(t){var u,r,_;if(G.isReadonly.value)return;const n=f.value.selectionStart,v=i.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(d.value=!0),["Escape"].includes(t.key)&&(d.value=!1),te.value&&["Enter","Tab"].includes(t.key)&&!i.value.some(g=>{let{value:V}=g;return V===I.value[0].value})&&F(I.value[0]),t.key==="ArrowDown"&&te.value&&((u=le.value)==null||u.focus("next")),["Backspace","Delete"].includes(t.key)){if(!e.multiple&&N.value&&i.value.length>0&&!m.value)return F(i.value[0],!1);if(~s.value){t.preventDefault();const g=s.value;F(i.value[s.value],!1),s.value=g>=v-1?v-2:g}else t.key==="Backspace"&&!m.value&&(s.value=v-1);return}if(e.multiple)if(t.key==="ArrowLeft"){if(s.value<0&&n>0)return;const g=s.value>-1?s.value-1:v-1;i.value[g]?s.value=g:(s.value=-1,f.value.setSelectionRange((r=m.value)==null?void 0:r.length,(_=m.value)==null?void 0:_.length))}else if(t.key==="ArrowRight"){if(s.value<0)return;const g=s.value+1;i.value[g]?s.value=g:(s.value=-1,f.value.setSelectionRange(0,0))}else~s.value&&me(t)&&(s.value=-1)}function Me(t){if(ge(f.value,":autofill")||ge(f.value,":-webkit-autofill")){const n=T.value.find(v=>v.title===t.target.value);n&&F(n)}}function Be(){var t;e.eager&&((t=h.value)==null||t.calculateVisibleItems())}function Ne(){var t;k.value&&(b.value=!0,(t=f.value)==null||t.focus())}function Le(t){k.value=!0,setTimeout(()=>{w.value=!0})}function Ue(t){w.value=!1}function Oe(t){(t==null||t===""&&!e.multiple&&!N.value)&&(i.value=[])}const ne=L(!1);function F(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!t||t.props.disabled))if(e.multiple){const v=i.value.findIndex(r=>(e.valueComparator||nt)(r.value,t.value)),u=n??!~v;if(~v){const r=u?[...i.value,t]:[...i.value];r.splice(v,1),i.value=r}else u&&(i.value=[...i.value,t]);e.clearOnSelect&&(m.value="")}else{const v=n!==!1;i.value=v?[t]:[],m.value=v&&!N.value?t.title:"",ve(()=>{d.value=!1,b.value=!0})}}return Q(k,(t,n)=>{var v;t!==n&&(t?(ne.value=!0,m.value=e.multiple||N.value?"":String(((v=i.value.at(-1))==null?void 0:v.props.title)??""),b.value=!0,ve(()=>ne.value=!1)):(!e.multiple&&m.value==null&&(i.value=[]),d.value=!1,i.value.some(u=>{let{title:r}=u;return r===m.value})||(m.value=""),s.value=-1))}),Q(m,t=>{!k.value||ne.value||(t&&(d.value=!0),b.value=!t)}),Q(d,()=>{if(!e.hideSelected&&d.value&&i.value.length){const t=I.value.findIndex(n=>i.value.some(v=>n.value===v.value));Xe&&window.requestAnimationFrame(()=>{var n;t>=0&&((n=h.value)==null||n.scrollToIndex(t))})}}),Q(()=>e.items,(t,n)=>{d.value||k.value&&!n.length&&t.length&&(d.value=!0)}),Ce(()=>{const t=!!(!e.hideNoData||I.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),n=i.value.length>0,v=fe.filterProps(e);return a(fe,B({ref:f},v,{modelValue:m.value,"onUpdate:modelValue":[u=>m.value=u,Oe],focused:k.value,"onUpdate:focused":u=>k.value=u,validationValue:i.externalValue,counterValue:we.value,dirty:n,onChange:Me,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":d.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!N.value,"v-autocomplete--selecting-index":s.value>-1},e.class],style:e.style,readonly:G.isReadonly.value,placeholder:n?void 0:e.placeholder,"onClick:clear":De,"onMousedown:control":Te,onKeydown:Ee}),{...l,default:()=>a(D,null,[a(ot,B({ref:y,modelValue:d.value,"onUpdate:modelValue":u=>d.value=u,activator:"parent",contentClass:"v-autocomplete__content",disabled:ae.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Be,onAfterLeave:Ne},e.menuProps),{default:()=>[t&&a(it,B({ref:le,selected:Pe.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:u=>u.preventDefault(),onKeydown:Re,onFocusin:Le,onFocusout:Ue,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Ae,e.listProps),{default:()=>{var u,r,_;return[(u=l["prepend-item"])==null?void 0:u.call(l),!I.value.length&&!e.hideNoData&&(((r=l["no-data"])==null?void 0:r.call(l))??a(ye,{key:"no-data",title:o(e.noDataText)},null)),a(st,{ref:h,renderless:!0,items:I.value},{default:g=>{var de;let{item:V,index:M,itemRef:S}=g;const ce=B(V.props,{ref:S,key:V.value,active:te.value&&M===0?!0:void 0,onClick:()=>F(V,null)});return((de=l.item)==null?void 0:de.call(l,{item:V,index:M,props:ce}))??a(ye,B(ce,{role:"option"}),{prepend:q=>{let{isSelected:J}=q;return a(D,null,[e.multiple&&!e.hideSelected?a(rt,{key:V.value,modelValue:J,ripple:!1,tabindex:"-1"},null):void 0,V.props.prependAvatar&&a(ct,{image:V.props.prependAvatar},null),V.props.prependIcon&&a(se,{icon:V.props.prependIcon},null)])},title:()=>{var q,J;return b.value?V.title:wt(V.title,(q=Ie(V))==null?void 0:q.title,((J=m.value)==null?void 0:J.length)??0)}})}}),(_=l["append-item"])==null?void 0:_.call(l)]}})]}),i.value.map((u,r)=>{function _(S){S.stopPropagation(),S.preventDefault(),F(u,!1)}const g={"onClick:close":_,onKeydown(S){S.key!=="Enter"&&S.key!==" "||(S.preventDefault(),S.stopPropagation(),_(S))},onMousedown(S){S.preventDefault(),S.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},V=$.value?!!l.chip:!!l.selection,M=V?dt($.value?l.chip({item:u,index:r,props:g}):l.selection({item:u,index:r})):void 0;if(!(V&&!M))return a("div",{key:u.value,class:["v-autocomplete__selection",r===s.value&&["v-autocomplete__selection--selected",H.value]],style:r===s.value?W.value:{}},[$.value?l.chip?a(re,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:u.title}}},{default:()=>[M]}):a(be,B({key:"chip",closable:e.closableChips,size:"small",text:u.title,disabled:u.props.disabled},g),null):M??a("span",{class:"v-autocomplete__selection-text"},[u.title,e.multiple&&r<i.value.length-1&&a("span",{class:"v-autocomplete__selection-comma"},[P(",")])])])})]),"append-inner":function(){var g;for(var u=arguments.length,r=new Array(u),_=0;_<u;_++)r[_]=arguments[_];return a(D,null,[(g=l["append-inner"])==null?void 0:g.call(l,...r),e.menuIcon?a(se,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Fe,onClick:ut,"aria-label":o(z.value),title:o(z.value),tabindex:"-1"},null):void 0])}})}),Ye({isFocused:k,isPristine:b,menu:d,search:m,filteredItems:ee,select:F},f)}}),At=Se({actionText:String,bgColor:String,color:String,icon:Ct,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...St(),..._t(),...pt({size:void 0}),...kt()},"VEmptyState"),Dt=_e()({name:"VEmptyState",props:At(),emits:{"click:action":e=>!0},setup(e,p){let{emit:l,slots:o}=p;const{themeClasses:f}=vt(e),{backgroundColorClasses:k,backgroundColorStyles:b}=ft(mt(e,"bgColor")),{dimensionStyles:w}=gt(e),{displayClasses:y}=yt();function h(C){l("click:action",C)}return Ce(()=>{var K,j,H;const C=!!(o.actions||e.actionText),d=!!(o.headline||e.headline),s=!!(o.title||e.title),Z=!!(o.text||e.text),z=!!(o.media||e.image||e.icon),T=e.size||(e.image?200:96);return a("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},f.value,k.value,y.value,e.class],style:[b.value,w.value,e.style]},[z&&a("div",{key:"media",class:"v-empty-state__media"},[o.media?a(re,{key:"media-defaults",defaults:{VImg:{src:e.image,height:T},VIcon:{size:T,icon:e.icon}}},{default:()=>[o.media()]}):a(D,null,[e.image?a(ht,{key:"image",src:e.image,height:T},null):e.icon?a(se,{key:"icon",color:e.color,size:T,icon:e.icon},null):void 0])]),d&&a("div",{key:"headline",class:"v-empty-state__headline"},[((K=o.headline)==null?void 0:K.call(o))??e.headline]),s&&a("div",{key:"title",class:"v-empty-state__title"},[((j=o.title)==null?void 0:j.call(o))??e.title]),Z&&a("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:Vt(e.textWidth)}},[((H=o.text)==null?void 0:H.call(o))??e.text]),o.default&&a("div",{key:"content",class:"v-empty-state__content"},[o.default()]),C&&a("div",{key:"actions",class:"v-empty-state__actions"},[a(re,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",text:e.actionText}}},{default:()=>{var W;return[((W=o.actions)==null?void 0:W.call(o,{props:{onClick:h}}))??a(xe,{onClick:h},null)]}})])])}),{}}}),Mt=bt({__name:"DashboardView",setup(e){const p=ze(),l=E([]),o=E([]),f=E(null),k=async()=>{o.value=await je(f.value)};return(async()=>{var w;l.value=await Ke(),f.value=(w=p.current)==null?void 0:w.id,await k()})(),(w,y)=>(R(),oe(D,null,[a(ie,{title:"Bienvenido",subtitle:"Instituto de Informática UNA - PUNO",class:"rounded-0",elevation:"0"}),a(xt,null,{default:c(()=>[a(ie,{elevation:"0",class:"rounded-0 border"},{default:c(()=>[a(he,null,{default:c(()=>[a(pe,{justify:"space-between"},{default:c(()=>[a(O,{cols:"12",md:"7"},{default:c(()=>[a(Ve,null,{default:c(()=>y[1]||(y[1]=[P("Grupos")])),_:1}),a(U,null,{default:c(()=>y[2]||(y[2]=[P("Lista de grupos asignados")])),_:1})]),_:1}),a(O,{cols:"12",md:"4"},{default:c(()=>[a(Pt,{modelValue:f.value,"onUpdate:modelValue":[y[0]||(y[0]=h=>f.value=h),k],label:"Periodos",items:l.value,"hide-details":"auto"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),o.value.length>0?(R(),X(ie,{key:0,elevation:"0",class:"rounded-0 border"},{default:c(()=>[(R(!0),oe(D,null,ke(o.value,h=>(R(),X(he,{class:"border-b",key:h.id},{default:c(()=>[a(pe,null,{default:c(()=>[a(O,{cols:"8",md:"6"},{default:c(()=>[a(U,null,{default:c(()=>[a(be,{color:"primary",rounded:"0",label:""},{default:c(()=>[P(A(h.modality),1)]),_:2},1024)]),_:2},1024),a(Ve,null,{default:c(()=>[Y("small",null,A(h.name),1),P(" | "+A(h.course),1)]),_:2},1024),a(U,null,{default:c(()=>[y[3]||(y[3]=Y("b",null,"Modulo: ",-1)),P(A(h.module),1)]),_:2},1024),a(U,null,{default:c(()=>[y[4]||(y[4]=Y("b",null,"Area: ",-1)),P(" "+A(h.area),1)]),_:2},1024)]),_:2},1024),a(O,{cols:"8",md:"4",class:"align-self-end"},{default:c(()=>[(R(!0),oe(D,null,ke(h.schedules,C=>(R(),X(U,{key:C.id},{default:c(()=>[Y("b",null,A(C.day),1),P(" "+A(C.start_hour)+" - "+A(C.end_hour),1)]),_:2},1024))),128))]),_:2},1024),a(O,{cols:"12",md:"2",class:"align-self-center"},{default:c(()=>[a(xe,{color:"primary",block:"",link:"",to:`/group/${h.id}`},{default:c(()=>y[5]||(y[5]=[P(" ver grupo ")])),_:2},1032,["to"])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})):(R(),X(Dt,{key:1,headline:"Sin datos",text:"No se encontraron grupos asignados para este periodo seleccionado",title:"No hay grupos"}))]),_:1})],64))}});export{Mt as default};
