import{u as Oe}from"./period.stores-CkvqDDxg.js";import{v as Ge,g as _e,p as we,aG as $e,d as M,G,aH as je,aI as We,a0 as ue,aJ as qe,I as F,aK as Ze,aL as Je,aM as Qe,T as J,a4 as me,aN as Xe,u as Pe,k as ye,a as l,a7 as U,f as Ye,aO as et,aP as tt,aQ as lt,aR as at,aS as nt,aT as ge,aU as he,aV as ut,ac as z,aW as ie,aX as ot,ap as it,ak as st,al as Ve,aY as rt,aZ as dt,a_ as ct,ao as vt,a$ as ft,b0 as se,aa as re,n as m,B as mt,C as yt,aD as gt,Z as ht,a9 as Vt,M as kt,l as de,N as bt,b1 as pt,aE as St,e as Ct,b2 as xt,h as _t,c as $,w as n,b3 as ke,V as Q,i as oe,as as X,ai as x,b4 as be,aj as k,j as P,b5 as pe,x as Se,o as L}from"./index-DKoxe_Cg.js";import{_ as wt,a as Pt}from"./index-CpaFAuvb.js";import{u as It}from"./heading.store-BrnA2aHr.js";import{a as Y,V as Ce}from"./VRow-r04FovYp.js";import{V as At}from"./VContainer-BWBpL3dE.js";const Tt="period",Dt=async()=>{try{return(await Ge().get(`/${Tt}/by-teacher`)).data.data}catch{return[]}},Ft=we({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...at({filterKeys:["title"]}),...lt(),...tt(nt({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...et({transition:!1})},"VAutocomplete"),Rt=_e()({name:"VAutocomplete",props:Ft(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,K){let{slots:o}=K;const{t:r}=$e(),y=M(),p=G(!1),S=G(!0),R=G(!1),O=M(),_=M(),a=G(-1),{items:i,transformIn:I,transformOut:A}=je(e),{textColorClasses:T,textColorStyles:H}=We(()=>{var t;return(t=y.value)==null?void 0:t.color}),g=ue(e,"search",""),s=ue(e,"modelValue",[],t=>I(t===null?[null]:qe(t)),t=>{const u=A(t);return e.multiple?u:u[0]??null}),j=F(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:s.value.length),B=Ze(e),{filteredItems:ee,getMatches:Ie}=Je(e,i,()=>S.value?"":g.value),D=F(()=>e.hideSelected?ee.value.filter(t=>!s.value.some(u=>u.value===t.value)):ee.value),W=F(()=>!!(e.chips||o.chip)),N=F(()=>W.value||!!o.selection),Ae=F(()=>s.value.map(t=>t.props.value)),te=F(()=>{var u;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&g.value===((u=D.value[0])==null?void 0:u.title))&&D.value.length>0&&!S.value&&!R.value}),q=F(()=>e.hideNoData&&!D.value.length||B.isReadonly.value||B.isDisabled.value),le=ue(e,"menu"),h=F({get:()=>le.value,set:t=>{var u;le.value&&!t&&((u=O.value)!=null&&u.Î¨openChildren.size)||t&&q.value||(le.value=t)}}),ce=F(()=>h.value?e.closeText:e.openText),ae=M(),Te=Qe(ae,y);function De(t){e.openOnClear&&(h.value=!0),g.value=""}function Fe(){q.value||(h.value=!0)}function Re(t){q.value||(p.value&&(t.preventDefault(),t.stopPropagation()),h.value=!h.value)}function Me(t){var u;t.key!==" "&&ge(t)&&((u=y.value)==null||u.focus())}function Be(t){var d,f,C,w,c;if(B.isReadonly.value)return;const u=(d=y.value)==null?void 0:d.selectionStart,v=s.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(h.value=!0),["Escape"].includes(t.key)&&(h.value=!1),te.value&&["Enter","Tab"].includes(t.key)&&!s.value.some(b=>{let{value:V}=b;return V===D.value[0].value})&&E(D.value[0]),t.key==="ArrowDown"&&te.value&&((f=ae.value)==null||f.focus("next")),["Backspace","Delete"].includes(t.key)){if(!e.multiple&&N.value&&s.value.length>0&&!g.value)return E(s.value[0],!1);if(~a.value){t.preventDefault();const b=a.value;E(s.value[a.value],!1),a.value=b>=v-1?v-2:b}else t.key==="Backspace"&&!g.value&&(a.value=v-1);return}if(e.multiple)if(t.key==="ArrowLeft"){if(a.value<0&&u&&u>0)return;const b=a.value>-1?a.value-1:v-1;if(s.value[b])a.value=b;else{const V=((C=g.value)==null?void 0:C.length)??null;a.value=-1,(w=y.value)==null||w.setSelectionRange(V,V)}}else if(t.key==="ArrowRight"){if(a.value<0)return;const b=a.value+1;s.value[b]?a.value=b:(a.value=-1,(c=y.value)==null||c.setSelectionRange(0,0))}else~a.value&&ge(t)&&(a.value=-1)}function Ee(t){if(he(y.value,":autofill")||he(y.value,":-webkit-autofill")){const u=i.value.find(v=>v.title===t.target.value);u&&E(u)}}function Le(){var t;e.eager&&((t=_.value)==null||t.calculateVisibleItems())}function He(){var t;p.value&&(S.value=!0,(t=y.value)==null||t.focus())}function Ne(t){p.value=!0,setTimeout(()=>{R.value=!0})}function Ue(t){R.value=!1}function ze(t){(t==null||t===""&&!e.multiple&&!N.value)&&(s.value=[])}const ne=G(!1);function E(t){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!t||t.props.disabled))if(e.multiple){const v=s.value.findIndex(f=>(e.valueComparator||ut)(f.value,t.value)),d=u??!~v;if(~v){const f=d?[...s.value,t]:[...s.value];f.splice(v,1),s.value=f}else d&&(s.value=[...s.value,t]);e.clearOnSelect&&(g.value="")}else{const v=u!==!1;s.value=v?[t]:[],g.value=v&&!N.value?t.title:"",me(()=>{h.value=!1,S.value=!0})}}return J(p,(t,u)=>{var v;t!==u&&(t?(ne.value=!0,g.value=e.multiple||N.value?"":String(((v=s.value.at(-1))==null?void 0:v.props.title)??""),S.value=!0,me(()=>ne.value=!1)):(!e.multiple&&g.value==null&&(s.value=[]),h.value=!1,(e.multiple||N.value)&&(g.value=""),a.value=-1))}),J(g,t=>{!p.value||ne.value||(t&&(h.value=!0),S.value=!t)}),J(h,()=>{if(!e.hideSelected&&h.value&&s.value.length){const t=D.value.findIndex(u=>s.value.some(v=>u.value===v.value));Xe&&window.requestAnimationFrame(()=>{var u;t>=0&&((u=_.value)==null||u.scrollToIndex(t))})}}),J(()=>e.items,(t,u)=>{h.value||p.value&&!u.length&&t.length&&(h.value=!0)}),Pe(()=>{const t=!!(!e.hideNoData||D.value.length||o["prepend-item"]||o["append-item"]||o["no-data"]),u=s.value.length>0,v=ye.filterProps(e);return l(ye,U({ref:y},v,{modelValue:g.value,"onUpdate:modelValue":[d=>g.value=d,ze],focused:p.value,"onUpdate:focused":d=>p.value=d,validationValue:s.externalValue,counterValue:j.value,dirty:u,onChange:Ee,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":h.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!N.value,"v-autocomplete--selecting-index":a.value>-1},e.class],style:e.style,readonly:B.isReadonly.value,placeholder:u?void 0:e.placeholder,"onClick:clear":De,"onMousedown:control":Fe,onKeydown:Be}),{...o,default:()=>l(z,null,[l(it,U({ref:O,modelValue:h.value,"onUpdate:modelValue":d=>h.value=d,activator:"parent",contentClass:"v-autocomplete__content",disabled:q.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Le,onAfterLeave:He},e.menuProps),{default:()=>[t&&l(st,U({ref:ae,selected:Ae.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:d=>d.preventDefault(),onKeydown:Me,onFocusin:Ne,onFocusout:Ue,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Te,e.listProps),{default:()=>{var d,f,C;return[(d=o["prepend-item"])==null?void 0:d.call(o),!D.value.length&&!e.hideNoData&&(((f=o["no-data"])==null?void 0:f.call(o))??l(Ve,{key:"no-data",title:r(e.noDataText)},null)),l(rt,{ref:_,renderless:!0,items:D.value,itemKey:"value"},{default:w=>{var fe;let{item:c,index:b,itemRef:V}=w;const ve=U(c.props,{ref:V,key:c.value,active:te.value&&b===0?!0:void 0,onClick:()=>E(c,null)});return((fe=o.item)==null?void 0:fe.call(o,{item:c,index:b,props:ve}))??l(Ve,U(ve,{role:"option"}),{prepend:Z=>{let{isSelected:Ke}=Z;return l(z,null,[e.multiple&&!e.hideSelected?l(ct,{key:c.value,modelValue:Ke,ripple:!1,tabindex:"-1"},null):void 0,c.props.prependAvatar&&l(vt,{image:c.props.prependAvatar},null),c.props.prependIcon&&l(ie,{icon:c.props.prependIcon},null)])},title:()=>{var Z;return S.value?c.title:dt("v-autocomplete",c.title,(Z=Ie(c))==null?void 0:Z.title)}})}}),(C=o["append-item"])==null?void 0:C.call(o)]}})]}),s.value.map((d,f)=>{function C(V){V.stopPropagation(),V.preventDefault(),E(d,!1)}const w={"onClick:close":C,onKeydown(V){V.key!=="Enter"&&V.key!==" "||(V.preventDefault(),V.stopPropagation(),C(V))},onMousedown(V){V.preventDefault(),V.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},c=W.value?!!o.chip:!!o.selection,b=c?ft(W.value?o.chip({item:d,index:f,props:w}):o.selection({item:d,index:f})):void 0;if(!(c&&!b))return l("div",{key:d.value,class:["v-autocomplete__selection",f===a.value&&["v-autocomplete__selection--selected",T.value]],style:f===a.value?H.value:{}},[W.value?o.chip?l(re,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:d.title}}},{default:()=>[b]}):l(se,U({key:"chip",closable:e.closableChips,size:"small",text:d.title,disabled:d.props.disabled},w),null):b??l("span",{class:"v-autocomplete__selection-text"},[d.title,e.multiple&&f<s.value.length-1&&l("span",{class:"v-autocomplete__selection-comma"},[m(",")])])])})]),"append-inner":function(){var w,c;for(var d=arguments.length,f=new Array(d),C=0;C<d;C++)f[C]=arguments[C];return l(z,null,[(w=o["append-inner"])==null?void 0:w.call(o,...f),e.menuIcon?l(ie,{class:"v-autocomplete__menu-icon",color:(c=y.value)==null?void 0:c.fieldIconColor,icon:e.menuIcon,onMousedown:Re,onClick:ot,"aria-label":r(ce.value),title:r(ce.value),tabindex:"-1"},null):void 0])}})}),Ye({isFocused:p,isPristine:S,menu:h,search:g,filteredItems:ee,select:E},y)}}),Mt=we({actionText:String,bgColor:String,color:String,icon:xt,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Ct(),...St(),...pt({size:void 0}),...bt()},"VEmptyState"),xe=_e()({name:"VEmptyState",props:Mt(),emits:{"click:action":e=>!0},setup(e,K){let{emit:o,slots:r}=K;const{themeClasses:y}=mt(e),{backgroundColorClasses:p,backgroundColorStyles:S}=yt(()=>e.bgColor),{dimensionStyles:R}=gt(e),{displayClasses:O}=ht();function _(a){o("click:action",a)}return Pe(()=>{var g,s,j;const a=!!(r.actions||e.actionText),i=!!(r.headline||e.headline),I=!!(r.title||e.title),A=!!(r.text||e.text),T=!!(r.media||e.image||e.icon),H=e.size||(e.image?200:96);return l("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},y.value,p.value,O.value,e.class],style:[S.value,R.value,e.style]},[T&&l("div",{key:"media",class:"v-empty-state__media"},[r.media?l(re,{key:"media-defaults",defaults:{VImg:{src:e.image,height:H},VIcon:{size:H,icon:e.icon}}},{default:()=>[r.media()]}):l(z,null,[e.image?l(Vt,{key:"image",src:e.image,height:H},null):e.icon?l(ie,{key:"icon",color:e.color,size:H,icon:e.icon},null):void 0])]),i&&l("div",{key:"headline",class:"v-empty-state__headline"},[((g=r.headline)==null?void 0:g.call(r))??e.headline]),I&&l("div",{key:"title",class:"v-empty-state__title"},[((s=r.title)==null?void 0:s.call(r))??e.title]),A&&l("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:kt(e.textWidth)}},[((j=r.text)==null?void 0:j.call(r))??e.text]),r.default&&l("div",{key:"content",class:"v-empty-state__content"},[r.default()]),a&&l("div",{key:"actions",class:"v-empty-state__actions"},[l(re,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",href:e.href,text:e.actionText,to:e.to}}},{default:()=>{var B;return[((B=r.actions)==null?void 0:B.call(r,{props:{onClick:_}}))??l(de,{onClick:_},null)]}})])])}),{}}}),zt=_t({__name:"DashboardView",setup(e){const K=It(),o=Oe(),r=M([]),y=M([]),p=M([]),S=M(null),R=async()=>{y.value=await wt(S.value)};return(async()=>{var _;K.setHeading("Mi panel","Bienvenido"),r.value=await Dt(),p.value=await Pt(),S.value=(_=o.current)==null?void 0:_.id,await R()})(),(_,a)=>(L(),$(At,null,{default:n(()=>[l(Ce,null,{default:n(()=>[l(Y,{cols:"12",md:"7"},{default:n(()=>[l(Q,{elevation:"0",class:"rounded-0 border"},{default:n(()=>[l(oe,null,{default:n(()=>[l(Ce,{justify:"space-between"},{default:n(()=>[l(Y,{cols:"12",md:"7"},{default:n(()=>[l(X,null,{default:n(()=>a[1]||(a[1]=[m("Grupos")])),_:1}),l(x,null,{default:n(()=>a[2]||(a[2]=[m("Lista de grupos asignados")])),_:1})]),_:1}),l(Y,{cols:"12",md:"4"},{default:n(()=>[l(Rt,{modelValue:S.value,"onUpdate:modelValue":[a[0]||(a[0]=i=>S.value=i),R],label:"Periodos",items:r.value,"hide-details":"auto"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),y.value.length>0?(L(!0),ke(z,{key:0},be(y.value,i=>(L(),$(Q,{elevation:"0",class:"rounded-0 border mb-3",key:i.id},{default:n(()=>[l(oe,{class:"border-b"},{default:n(()=>[l(x,null,{default:n(()=>[l(se,{color:"primary",rounded:"0",label:""},{default:n(()=>[m(k(i.modality),1)]),_:2},1024)]),_:2},1024),l(X,null,{default:n(()=>[P("strong",null,k(i.name),1),m(" | "+k(i.course),1)]),_:2},1024),l(x,null,{default:n(()=>[a[3]||(a[3]=P("b",null,"Plan de estudio: ",-1)),m(" "+k(i.curriculum),1)]),_:2},1024),l(x,null,{default:n(()=>[a[4]||(a[4]=P("b",null,"Modulo: ",-1)),m(k(i.module),1)]),_:2},1024),l(x,null,{default:n(()=>[a[5]||(a[5]=P("b",null,"Area: ",-1)),m(" "+k(i.area),1)]),_:2},1024),l(x,null,{default:n(()=>{var I,A,T;return[a[6]||(a[6]=P("b",null,"Horario: ",-1)),m(" "+k((I=i.schedules)==null?void 0:I.days)+" "+k((A=i.schedules)==null?void 0:A.startHour)+"-"+k((T=i.schedules)==null?void 0:T.endHour),1)]}),_:2},1024)]),_:2},1024),l(pe,null,{default:n(()=>[l(Se),l(de,{color:"primary",link:"",to:`/group/${i.id}`},{default:n(()=>a[7]||(a[7]=[m(" ver grupo ")])),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128)):(L(),$(xe,{key:1,headline:"Sin datos",title:"Seleccione un periodo"}))]),_:1}),l(Y,{cols:"12",md:"5"},{default:n(()=>[l(Q,{elevation:"0",class:"rounded-0 border py-1"},{default:n(()=>[l(X,null,{default:n(()=>a[8]||(a[8]=[m("Grupos Activos")])),_:1}),l(x,null,{default:n(()=>a[9]||(a[9]=[m("Lista de grupos activos asignados")])),_:1})]),_:1}),p.value.length>0?(L(!0),ke(z,{key:0},be(p.value,i=>(L(),$(Q,{elevation:"0",class:"rounded-0 border mb-3",key:i.id},{default:n(()=>[l(oe,{class:"border-b"},{default:n(()=>[l(x,null,{default:n(()=>[l(se,{color:"primary",rounded:"0",label:""},{default:n(()=>[m(k(i.modality),1)]),_:2},1024)]),_:2},1024),l(X,null,{default:n(()=>[P("strong",null,k(i.name),1),m(" | "+k(i.course),1)]),_:2},1024),l(x,null,{default:n(()=>[a[10]||(a[10]=P("b",null,"Plan de estudio: ",-1)),m(" "+k(i.curriculum),1)]),_:2},1024),l(x,null,{default:n(()=>[a[11]||(a[11]=P("b",null,"Modulo: ",-1)),m(k(i.module),1)]),_:2},1024),l(x,null,{default:n(()=>[a[12]||(a[12]=P("b",null,"Area: ",-1)),m(" "+k(i.area),1)]),_:2},1024),l(x,null,{default:n(()=>{var I,A,T;return[a[13]||(a[13]=P("b",null,"Horario: ",-1)),m(" "+k((I=i.schedules)==null?void 0:I.days)+" "+k((A=i.schedules)==null?void 0:A.startHour)+"-"+k((T=i.schedules)==null?void 0:T.endHour),1)]}),_:2},1024)]),_:2},1024),l(pe,null,{default:n(()=>[l(Se),l(de,{color:"primary",link:"",to:`/group/${i.id}`},{default:n(()=>a[14]||(a[14]=[m(" ver grupo ")])),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128)):(L(),$(xe,{key:1,headline:"Sin datos",title:"No tiene grupos activos"}))]),_:1})]),_:1})]),_:1}))}});export{zt as default};
