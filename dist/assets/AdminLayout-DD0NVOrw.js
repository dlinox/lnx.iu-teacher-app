import{p as z,d as _,B as P,C as c,D as Me,E as H,F as W,G as X,g as q,H as fe,I as D,J as Z,K as he,L as O,u as j,a as d,M as F,N as ye,O as U,P as we,Q as be,R as pe,S as Ie,T as Se,U as Ve,W as ke,X as Ce,Y as Te,e as Be,Z as Ee,$ as Re,a0 as _e,a1 as Le,a2 as Ne,a3 as De,a4 as Oe,a5 as Ye,a6 as Ae,a7 as ze,a8 as We,a9 as $e,aa as Fe,ab as Ue,ac as Xe,ad as qe,ae as Ze,h as je,af as Ge,c as oe,w as T,V as Je,i as Ke,j as Y,ag as Qe,ah as ne,ai as ue,aj as re,ak as se,q as $,al as et,l as ie,x as ce,r as tt,am as at,an as lt,o as ve,ao as ot}from"./index-DsGDyTjR.js";import{u as nt}from"./period.stores-3bcy4P8S.js";import{u as G,m as J,V as ut,a as rt}from"./VMain-P13iMc39.js";import{V as de,m as st}from"./VToolbar-DXTEoLYQ.js";const it=z({scrollTarget:{type:String},scrollThreshold:{type:[String,Number],default:300}},"scroll");function ct(e){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{canScroll:n}=g;let p=0,t=0;const a=_(null),o=P(0),s=P(0),S=P(0),w=P(!1),l=P(!1),v=c(()=>Number(e.scrollThreshold)),u=c(()=>Me((v.value-o.value)/v.value||0)),r=()=>{const i=a.value;if(!i||n&&!n.value)return;p=o.value,o.value="window"in i?i.pageYOffset:i.scrollTop;const V=i instanceof Window?document.documentElement.scrollHeight:i.scrollHeight;if(t!==V){t=V;return}l.value=o.value<p,S.value=Math.abs(o.value-v.value)};return H(l,()=>{s.value=s.value||o.value}),H(w,()=>{s.value=0}),W(()=>{H(()=>e.scrollTarget,i=>{var x;const V=i?document.querySelector(i):window;V&&V!==a.value&&((x=a.value)==null||x.removeEventListener("scroll",r),a.value=V,a.value.addEventListener("scroll",r,{passive:!0}))},{immediate:!0})}),X(()=>{var i;(i=a.value)==null||i.removeEventListener("scroll",r)}),n&&H(n,r,{immediate:!0}),{scrollThreshold:v,currentScroll:o,currentThreshold:S,isScrollActive:w,scrollRatio:u,isScrollingUp:l,savedScroll:s}}const vt=z({scrollBehavior:String,modelValue:{type:Boolean,default:!0},location:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},...st(),...J(),...it(),height:{type:[Number,String],default:64}},"VAppBar"),dt=q()({name:"VAppBar",props:vt(),emits:{"update:modelValue":e=>!0},setup(e,g){let{slots:n}=g;const p=_(),t=fe(e,"modelValue"),a=c(()=>{var E;const h=new Set(((E=e.scrollBehavior)==null?void 0:E.split(" "))??[]);return{hide:h.has("hide"),fullyHide:h.has("fully-hide"),inverted:h.has("inverted"),collapse:h.has("collapse"),elevate:h.has("elevate"),fadeImage:h.has("fade-image")}}),o=c(()=>{const h=a.value;return h.hide||h.fullyHide||h.inverted||h.collapse||h.elevate||h.fadeImage||!t.value}),{currentScroll:s,scrollThreshold:S,isScrollingUp:w,scrollRatio:l}=ct(e,{canScroll:o}),v=c(()=>a.value.hide||a.value.fullyHide),u=c(()=>e.collapse||a.value.collapse&&(a.value.inverted?l.value>0:l.value===0)),r=c(()=>e.flat||a.value.fullyHide&&!t.value||a.value.elevate&&(a.value.inverted?s.value>0:s.value===0)),i=c(()=>a.value.fadeImage?a.value.inverted?1-l.value:l.value:void 0),V=c(()=>{var R,M;if(a.value.hide&&a.value.inverted)return 0;const h=((R=p.value)==null?void 0:R.contentHeight)??0,E=((M=p.value)==null?void 0:M.extensionHeight)??0;return v.value?s.value<S.value||a.value.fullyHide?h+E:h:h+E});D(c(()=>!!e.scrollBehavior),()=>{Z(()=>{v.value?a.value.inverted?t.value=s.value>S.value:t.value=w.value||s.value<S.value:t.value=!0})});const{ssrBootStyles:x}=he(),{layoutItemStyles:I}=G({id:e.name,order:c(()=>parseInt(e.order,10)),position:O(e,"location"),layoutSize:V,elementSize:P(void 0),active:t,absolute:O(e,"absolute")});return j(()=>{const h=de.filterProps(e);return d(de,F({ref:p,class:["v-app-bar",{"v-app-bar--bottom":e.location==="bottom"},e.class],style:[{...I.value,"--v-toolbar-image-opacity":i.value,height:void 0,...x.value},e.style]},h,{collapse:u.value,flat:r.value}),n)}),{}}}),mt=z({app:Boolean,color:String,height:{type:[Number,String],default:"auto"},...Ee(),...Be(),...Te(),...J(),...Ce(),...ke({tag:"footer"}),...Ve()},"VFooter"),gt=q()({name:"VFooter",props:mt(),setup(e,g){let{slots:n}=g;const p=_(),{themeClasses:t}=ye(e),{backgroundColorClasses:a,backgroundColorStyles:o}=U(O(e,"color")),{borderClasses:s}=we(e),{elevationClasses:S}=be(e),{roundedClasses:w}=pe(e),l=P(32),{resizeRef:v}=Ie(r=>{r.length&&(l.value=r[0].target.clientHeight)}),u=c(()=>e.height==="auto"?l.value:parseInt(e.height,10));return D(()=>e.app,()=>{const r=G({id:e.name,order:c(()=>parseInt(e.order,10)),position:c(()=>"bottom"),layoutSize:u,elementSize:c(()=>e.height==="auto"?void 0:u.value),active:c(()=>e.app),absolute:O(e,"absolute")});Z(()=>{p.value=r.layoutItemStyles.value})}),j(()=>d(e.tag,{ref:v,class:["v-footer",t.value,a.value,s.value,S.value,w.value,e.class],style:[o.value,e.app?p.value:{height:Se(e.height)},e.style]},n)),{}}});function ft(e){let{rootEl:g,isSticky:n,layoutItemStyles:p}=e;const t=P(!1),a=P(0),o=c(()=>{const w=typeof t.value=="boolean"?"top":t.value;return[n.value?{top:"auto",bottom:"auto",height:void 0}:void 0,t.value?{[w]:Se(a.value)}:{top:p.value.top}]});W(()=>{H(n,w=>{w?window.addEventListener("scroll",S,{passive:!0}):window.removeEventListener("scroll",S)},{immediate:!0})}),X(()=>{window.removeEventListener("scroll",S)});let s=0;function S(){const w=s>window.scrollY?"up":"down",l=g.value.getBoundingClientRect(),v=parseFloat(p.value.top??0),u=window.scrollY-Math.max(0,a.value-v),r=l.height+Math.max(a.value,v)-window.scrollY-window.innerHeight,i=parseFloat(getComputedStyle(g.value).getPropertyValue("--v-body-scroll-y"))||0;l.height<window.innerHeight-v?(t.value="top",a.value=v):w==="up"&&t.value==="bottom"||w==="down"&&t.value==="top"?(a.value=window.scrollY+l.top-i,t.value=!0):w==="down"&&r<=0?(a.value=0,t.value="bottom"):w==="up"&&u<=0&&(i?t.value!=="top"&&(a.value=-u+i+v,t.value="top"):(a.value=l.top+u,t.value="top")),s=window.scrollY}return{isStuck:t,stickyStyles:o}}const ht=100,yt=20;function me(e){return(e<0?-1:1)*Math.sqrt(Math.abs(e))*1.41421356237}function ge(e){if(e.length<2)return 0;if(e.length===2)return e[1].t===e[0].t?0:(e[1].d-e[0].d)/(e[1].t-e[0].t);let g=0;for(let n=e.length-1;n>0;n--){if(e[n].t===e[n-1].t)continue;const p=me(g),t=(e[n].d-e[n-1].d)/(e[n].t-e[n-1].t);g+=(t-p)*Math.abs(t),n===e.length-1&&(g*=.5)}return me(g)*1e3}function wt(){const e={};function g(t){Array.from(t.changedTouches).forEach(a=>{(e[a.identifier]??(e[a.identifier]=new Re(yt))).push([t.timeStamp,a])})}function n(t){Array.from(t.changedTouches).forEach(a=>{delete e[a.identifier]})}function p(t){var w;const a=(w=e[t])==null?void 0:w.values().reverse();if(!a)throw new Error(`No samples for touch id ${t}`);const o=a[0],s=[],S=[];for(const l of a){if(o[0]-l[0]>ht)break;s.push({t:l[0],d:l[1].clientX}),S.push({t:l[0],d:l[1].clientY})}return{x:ge(s),y:ge(S),get direction(){const{x:l,y:v}=this,[u,r]=[Math.abs(l),Math.abs(v)];return u>r&&l>=0?"right":u>r&&l<=0?"left":r>u&&v>=0?"down":r>u&&v<=0?"up":bt()}}}return{addMovement:g,endTouch:n,getVelocity:p}}function bt(){throw new Error}function pt(e){let{el:g,isActive:n,isTemporary:p,width:t,touchless:a,position:o}=e;W(()=>{window.addEventListener("touchstart",h,{passive:!0}),window.addEventListener("touchmove",E,{passive:!1}),window.addEventListener("touchend",R,{passive:!0})}),X(()=>{window.removeEventListener("touchstart",h),window.removeEventListener("touchmove",E),window.removeEventListener("touchend",R)});const s=c(()=>["left","right"].includes(o.value)),{addMovement:S,endTouch:w,getVelocity:l}=wt();let v=!1;const u=P(!1),r=P(0),i=P(0);let V;function x(m,f){return(o.value==="left"?m:o.value==="right"?document.documentElement.clientWidth-m:o.value==="top"?m:o.value==="bottom"?document.documentElement.clientHeight-m:N())-(f?t.value:0)}function I(m){let f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const y=o.value==="left"?(m-i.value)/t.value:o.value==="right"?(document.documentElement.clientWidth-m-i.value)/t.value:o.value==="top"?(m-i.value)/t.value:o.value==="bottom"?(document.documentElement.clientHeight-m-i.value)/t.value:N();return f?Math.max(0,Math.min(1,y)):y}function h(m){if(a.value)return;const f=m.changedTouches[0].clientX,y=m.changedTouches[0].clientY,b=25,C=o.value==="left"?f<b:o.value==="right"?f>document.documentElement.clientWidth-b:o.value==="top"?y<b:o.value==="bottom"?y>document.documentElement.clientHeight-b:N(),k=n.value&&(o.value==="left"?f<t.value:o.value==="right"?f>document.documentElement.clientWidth-t.value:o.value==="top"?y<t.value:o.value==="bottom"?y>document.documentElement.clientHeight-t.value:N());(C||k||n.value&&p.value)&&(V=[f,y],i.value=x(s.value?f:y,n.value),r.value=I(s.value?f:y),v=i.value>-20&&i.value<80,w(m),S(m))}function E(m){const f=m.changedTouches[0].clientX,y=m.changedTouches[0].clientY;if(v){if(!m.cancelable){v=!1;return}const C=Math.abs(f-V[0]),k=Math.abs(y-V[1]);(s.value?C>k&&C>3:k>C&&k>3)?(u.value=!0,v=!1):(s.value?k:C)>3&&(v=!1)}if(!u.value)return;m.preventDefault(),S(m);const b=I(s.value?f:y,!1);r.value=Math.max(0,Math.min(1,b)),b>1?i.value=x(s.value?f:y,!0):b<0&&(i.value=x(s.value?f:y,!1))}function R(m){if(v=!1,!u.value)return;S(m),u.value=!1;const f=l(m.changedTouches[0].identifier),y=Math.abs(f.x),b=Math.abs(f.y);(s.value?y>b&&y>400:b>y&&b>3)?n.value=f.direction===({left:"right",right:"left",top:"down",bottom:"up"}[o.value]||N()):n.value=r.value>.5}const M=c(()=>u.value?{transform:o.value==="left"?`translateX(calc(-100% + ${r.value*t.value}px))`:o.value==="right"?`translateX(calc(100% - ${r.value*t.value}px))`:o.value==="top"?`translateY(calc(-100% + ${r.value*t.value}px))`:o.value==="bottom"?`translateY(calc(100% - ${r.value*t.value}px))`:N(),transition:"none"}:void 0);return D(u,()=>{var y,b;const m=((y=g.value)==null?void 0:y.style.transform)??null,f=((b=g.value)==null?void 0:b.style.transition)??null;Z(()=>{var C,k,L,A;(k=g.value)==null||k.style.setProperty("transform",((C=M.value)==null?void 0:C.transform)||"none"),(A=g.value)==null||A.style.setProperty("transition",((L=M.value)==null?void 0:L.transition)||null)}),_e(()=>{var C,k;(C=g.value)==null||C.style.setProperty("transform",m),(k=g.value)==null||k.style.setProperty("transition",f)})}),{isDragging:u,dragProgress:r,dragStyles:M}}function N(){throw new Error}const St=["start","end","left","right","top","bottom"],Vt=z({color:String,disableResizeWatcher:Boolean,disableRouteWatcher:Boolean,expandOnHover:Boolean,floating:Boolean,modelValue:{type:Boolean,default:null},permanent:Boolean,rail:{type:Boolean,default:null},railWidth:{type:[Number,String],default:56},scrim:{type:[Boolean,String],default:!0},image:String,temporary:Boolean,persistent:Boolean,touchless:Boolean,width:{type:[Number,String],default:256},location:{type:String,default:"start",validator:e=>St.includes(e)},sticky:Boolean,...Ee(),...Be(),...Ze(),...qe({mobile:null}),...Te(),...J(),...Ce(),...ke({tag:"nav"}),...Ve()},"VNavigationDrawer"),kt=q()({name:"VNavigationDrawer",props:Vt(),emits:{"update:modelValue":e=>!0,"update:rail":e=>!0},setup(e,g){let{attrs:n,emit:p,slots:t}=g;const{isRtl:a}=Le(),{themeClasses:o}=ye(e),{borderClasses:s}=we(e),{backgroundColorClasses:S,backgroundColorStyles:w}=U(O(e,"color")),{elevationClasses:l}=be(e),{displayClasses:v,mobile:u}=Ne(e),{roundedClasses:r}=pe(e),i=De(),V=fe(e,"modelValue",null,B=>!!B),{ssrBootStyles:x}=he(),{scopeId:I}=Oe(),h=_(),E=P(!1),{runOpenDelay:R,runCloseDelay:M}=We(e,B=>{E.value=B}),m=c(()=>e.rail&&e.expandOnHover&&E.value?Number(e.width):Number(e.rail?e.railWidth:e.width)),f=c(()=>Ye(e.location,a.value)),y=c(()=>e.persistent),b=c(()=>!e.permanent&&(u.value||e.temporary)),C=c(()=>e.sticky&&!b.value&&f.value!=="bottom");D(()=>e.expandOnHover&&e.rail!=null,()=>{H(E,B=>p("update:rail",!B))}),D(()=>!e.disableResizeWatcher,()=>{H(b,B=>!e.permanent&&Ae(()=>V.value=!B))}),D(()=>!e.disableRouteWatcher&&!!i,()=>{H(i.currentRoute,()=>b.value&&(V.value=!1))}),H(()=>e.permanent,B=>{B&&(V.value=!0)}),e.modelValue==null&&!b.value&&(V.value=e.permanent||!u.value);const{isDragging:k,dragProgress:L}=pt({el:h,isActive:V,isTemporary:b,width:m,touchless:O(e,"touchless"),position:f}),A=c(()=>{const B=b.value?0:e.rail&&e.expandOnHover?Number(e.railWidth):m.value;return k.value?B*L.value:B}),{layoutItemStyles:K,layoutItemScrimStyles:Pe}=G({id:e.name,order:c(()=>parseInt(e.order,10)),position:f,layoutSize:A,elementSize:m,active:c(()=>V.value||k.value),disableTransitions:c(()=>k.value),absolute:c(()=>e.absolute||C.value&&typeof Q.value!="string")}),{isStuck:Q,stickyStyles:xe}=ft({rootEl:h,isSticky:C,layoutItemStyles:K}),ee=U(c(()=>typeof e.scrim=="string"?e.scrim:null)),He=c(()=>({...k.value?{opacity:L.value*.2,transition:"none"}:void 0,...Pe.value}));return ze({VList:{bgColor:"transparent"}}),j(()=>{const B=t.image||e.image;return d(Xe,null,[d(e.tag,F({ref:h,onMouseenter:R,onMouseleave:M,class:["v-navigation-drawer",`v-navigation-drawer--${f.value}`,{"v-navigation-drawer--expand-on-hover":e.expandOnHover,"v-navigation-drawer--floating":e.floating,"v-navigation-drawer--is-hovering":E.value,"v-navigation-drawer--rail":e.rail,"v-navigation-drawer--temporary":b.value,"v-navigation-drawer--persistent":y.value,"v-navigation-drawer--active":V.value,"v-navigation-drawer--sticky":C.value},o.value,S.value,s.value,v.value,l.value,r.value,e.class],style:[w.value,K.value,x.value,xe.value,e.style]},I,n),{default:()=>{var te,ae,le;return[B&&d("div",{key:"image",class:"v-navigation-drawer__img"},[t.image?d(Fe,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{alt:"",cover:!0,height:"inherit",src:e.image}}},t.image):d($e,{key:"image-img",alt:"",cover:!0,height:"inherit",src:e.image},null)]),t.prepend&&d("div",{class:"v-navigation-drawer__prepend"},[(te=t.prepend)==null?void 0:te.call(t)]),d("div",{class:"v-navigation-drawer__content"},[(ae=t.default)==null?void 0:ae.call(t)]),t.append&&d("div",{class:"v-navigation-drawer__append"},[(le=t.append)==null?void 0:le.call(t)])]}}),d(Ue,{name:"fade-transition"},{default:()=>[b.value&&(k.value||V.value)&&!!e.scrim&&d("div",F({class:["v-navigation-drawer__scrim",ee.backgroundColorClasses.value],style:[He.value,ee.backgroundColorStyles.value],onClick:()=>{y.value||(V.value=!1)}},I),null)]})])}),{isStuck:Q}}}),Pt=je({__name:"AdminLayout",setup(e){const g=lt(),n=Ge(),p=nt(),t=_(!0),a=_(!1),o=_([""]),s=async()=>{a.value=!0,console.log("signOutBtn"),await at()&&(a.value=!1,g.push({name:"Login"}))},S=async()=>{await p.getCurrent(),await p.getEnrolled()};return W(()=>{S()}),(w,l)=>{const v=tt("RouterView");return ve(),oe(rt,{app:""},{default:T(()=>[d(kt,{modelValue:t.value,"onUpdate:modelValue":l[1]||(l[1]=u=>t.value=u),app:"",color:"blue-grey-lighten-5 border-primary",border:1},{append:T(()=>[d(re,{"three-line":""},{default:T(()=>[d(se,{class:"py-2 border-t"},{append:T(()=>[et((ve(),oe(ie,{onClick:s,icon:"",density:"compact",variant:"tonal",loading:a.value},{default:T(()=>[d($,{iconName:"logout-1"})]),_:1},8,["loading"])),[[ot,"Cerrar sesión","top"]])]),_:1})]),_:1})]),default:T(()=>[d(Je,{elevation:"0",class:"rounded-0",color:"primary",variant:"tonal"},{default:T(()=>[d(Ke,{class:"text-center"},{default:T(()=>l[3]||(l[3]=[Y("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Logo_UNAP.png/640px-Logo_UNAP.png",alt:"logo",width:"70"},null,-1)])),_:1}),d(Qe,{class:"border-t py-2"},{default:T(()=>{var u,r;return[Y("b",null,ne(ue(n).authState.user.name),1),l[4]||(l[4]=Y("br",null,null,-1)),Y("small",null,ne((r=(u=ue(n).authState.user)==null?void 0:u.role)==null?void 0:r.toUpperCase()),1)]}),_:1})]),_:1}),d(re,{nav:"",density:"compact",opened:o.value,"onUpdate:opened":l[0]||(l[0]=u=>o.value=u),color:"primary"},{default:T(()=>[d(se,{key:"panel",title:"Panel",to:"/",link:"",exact:""},{prepend:T(()=>[d($,{iconName:"element-4"})]),_:1})]),_:1},8,["opened"])]),_:1},8,["modelValue"]),d(dt,{floating:"",elevation:"0",app:""},{append:T(()=>l[5]||(l[5]=[])),default:T(()=>[d(ie,{icon:"",onClick:l[2]||(l[2]=u=>t.value=!t.value),size:"small"},{default:T(()=>[d($,{iconName:"textalign-justifycenter"})]),_:1}),d(ce)]),_:1}),d(ut,null,{default:T(()=>[d(v)]),_:1}),d(gt,{app:""},{default:T(()=>[d(ce),l[6]||(l[6]=Y("small",null," v.0.1.0 ",-1))]),_:1})]),_:1})}}});export{Pt as default};
