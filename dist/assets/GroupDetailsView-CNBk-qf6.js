import{X as We,g as Ee,p as He,d as k,aK as Xe,I as H,b7 as ze,a0 as Le,b8 as we,G as $e,L as Oe,K as pe,T as ue,S as Se,u as je,k as Ce,a as t,b9 as be,ac as A,a7 as xe,l as oe,aa as _e,f as Ke,aP as Ze,aS as Ye,a4 as Ne,ba as Je,U as Qe,bb as et,bc as Ae,bd as De,be as tt,bf as lt,M as at,bg as nt,am as he,bh as ut,bi as ot,bj as rt,h as it,c as O,w as u,i as Te,al as j,aq as K,n as p,ar as q,aj as m,V as Ve,bk as Ie,j as i,b3 as _,b4 as ce,z as Fe,ag as fe,b5 as Ge,an as ne,r as dt,bl as st,x as Re,bm as ct,o as y,au as Me}from"./index-DKoxe_Cg.js";import{c as ft,d as vt,e as mt,f as gt,g as Ue,h as pt,i as bt,j as Vt}from"./index-CpaFAuvb.js";import{u as yt}from"./heading.store-BrnA2aHr.js";import{u as wt}from"./period.stores-CkvqDDxg.js";import{V as ye,a as ve}from"./VRow-r04FovYp.js";import{V as xt,a as Pe,c as ke,b as Nt}from"./VTabs-CVW2nTX8.js";import{V as ht}from"./VContainer-BWBpL3dE.js";const It=50,Pt=500;function kt(e){let{toggleUpDown:W}=e,g=-1,C=-1;We(b);function x(o){b(),P(o),g=window.setTimeout(()=>{C=window.setInterval(()=>P(o),It)},Pt)}function b(){window.clearTimeout(g),window.clearInterval(C)}function P(o){W(o==="up")}return{holdStart:x,holdStop:b}}const Ct=He({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},precision:{type:Number,default:0},...Ze(Ye(),["modelValue","validationValue"])},"VNumberInput"),Be=Ee()({name:"VNumberInput",props:{...Ct()},emits:{"update:modelValue":e=>!0},setup(e,W){let{slots:g}=W;const C=k(),{holdStart:x,holdStop:b}=kt({toggleUpDown:a}),P=Xe(e),o=H(()=>P.isDisabled.value||P.isReadonly.value),{isFocused:X,focus:z,blur:G}=ze(e);function D(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.precision;const F=c==null?String(n):n.toFixed(c);return X.value?Number(F).toString():F}const f=Le(e,"modelValue",null,n=>n??null,n=>n==null?n??null:we(Number(n),e.min,e.max)),S=$e(null);Oe(()=>{X.value&&!o.value||(f.value==null?S.value=null:isNaN(f.value)||(S.value=D(f.value)))});const h=H({get:()=>S.value,set(n){n===null||n===""?(f.value=null,S.value=null):!isNaN(Number(n))&&Number(n)<=e.max&&Number(n)>=e.min&&(f.value=Number(n),S.value=n)}}),R=H(()=>o.value?!1:(f.value??0)+e.step<=e.max),Z=H(()=>o.value?!1:(f.value??0)-e.step>=e.min),N=H(()=>e.hideInput?"stacked":e.controlVariant),ee=pe(()=>N.value==="split"?"$plus":"$collapse"),te=pe(()=>N.value==="split"?"$minus":"$expand"),U=pe(()=>N.value==="split"?"default":"small"),L=pe(()=>N.value==="stacked"?"auto":"100%"),v={props:{onClick:V,onPointerup:s,onPointerdown:w}},l={props:{onClick:V,onPointerup:s,onPointerdown:T}};ue(()=>e.precision,()=>re()),Se(()=>{Y()});function I(n){if(n==null)return 0;const c=n.toString(),F=c.indexOf(".");return~F?c.length-F:0}function a(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(o.value)return;if(f.value==null){h.value=D(we(0,e.min,e.max));return}let c=Math.max(I(f.value),I(e.step));e.precision!=null&&(c=Math.max(c,e.precision)),n?R.value&&(h.value=D(f.value+e.step,c)):Z.value&&(h.value=D(f.value-e.step,c))}function d(n){var $,J,ge,ie;if(!n.data)return;const c=($=n.target)==null?void 0:$.value,F=(J=n.target)==null?void 0:J.selectionStart,ae=(ge=n.target)==null?void 0:ge.selectionEnd,B=c?c.slice(0,F)+n.data+c.slice(ae):n.data;/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(B)||n.preventDefault(),e.precision!=null&&(((ie=B.split(".")[1])==null?void 0:ie.length)>e.precision&&n.preventDefault(),e.precision===0&&B.includes(".")&&n.preventDefault())}async function r(n){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(n.key)||n.ctrlKey||["ArrowDown","ArrowUp"].includes(n.key)&&(n.preventDefault(),Y(),await Ne(),n.key==="ArrowDown"?a(!1):a())}function V(n){n.stopPropagation()}function s(n){const c=n.currentTarget;c==null||c.releasePointerCapture(n.pointerId),n.preventDefault(),n.stopPropagation(),b()}function w(n){const c=n.currentTarget;c==null||c.setPointerCapture(n.pointerId),n.preventDefault(),n.stopPropagation(),x("up")}function T(n){const c=n.currentTarget;c==null||c.setPointerCapture(n.pointerId),n.preventDefault(),n.stopPropagation(),x("down")}function Y(){if(o.value||!C.value)return;const n=C.value.value;n&&!isNaN(Number(n))?h.value=D(we(Number(n),e.min,e.max)):h.value=null}function re(){if(!o.value){if(f.value===null||isNaN(f.value)){h.value=null;return}h.value=e.precision==null?String(f.value):f.value.toFixed(e.precision)}}function M(){if(!o.value){if(f.value===null||isNaN(f.value)){h.value=null;return}h.value=f.value.toString()}}function le(){z(),M()}function me(){G(),Y()}return je(()=>{const{modelValue:n,...c}=Ce.filterProps(e);function F(){return g.increment?t(_e,{key:"increment-defaults",defaults:{VBtn:{disabled:!R.value,flat:!0,height:L.value,size:U.value,icon:ee.value}}},{default:()=>[g.increment(v)]}):t(oe,{disabled:!R.value,flat:!0,key:"increment-btn",height:L.value,"data-testid":"increment","aria-hidden":"true",icon:ee.value,onClick:V,onPointerup:s,onPointerdown:w,size:U.value,tabindex:"-1"},null)}function ae(){return g.decrement?t(_e,{key:"decrement-defaults",defaults:{VBtn:{disabled:!Z.value,flat:!0,height:L.value,size:U.value,icon:te.value}}},{default:()=>[g.decrement(l)]}):t(oe,{disabled:!Z.value,flat:!0,key:"decrement-btn",height:L.value,"data-testid":"decrement","aria-hidden":"true",icon:te.value,size:U.value,tabindex:"-1",onClick:V,onPointerup:s,onPointerdown:T},null)}function B(){return t("div",{class:"v-number-input__control"},[ae(),t(be,{vertical:N.value!=="stacked"},null),F()])}function $(){return!e.hideInput&&!e.inset?t(be,{vertical:!0},null):void 0}const J=N.value==="split"?t("div",{class:"v-number-input__control"},[t(be,{vertical:!0},null),F()]):e.reverse||N.value==="hidden"?void 0:t(A,null,[$(),B()]),ge=g["append-inner"]||J,ie=N.value==="split"?t("div",{class:"v-number-input__control"},[ae(),t(be,{vertical:!0},null)]):e.reverse&&N.value!=="hidden"?t(A,null,[B(),$()]):void 0,qe=g["prepend-inner"]||ie;return t(Ce,xe({ref:C,modelValue:h.value,"onUpdate:modelValue":Q=>h.value=Q,validationValue:f.value,onBeforeinput:d,onFocus:le,onBlur:me,onKeydown:r,class:["v-number-input",{"v-number-input--default":N.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":N.value==="split","v-number-input--stacked":N.value==="stacked"},e.class]},c,{style:e.style,inputmode:"decimal"}),{...g,"append-inner":ge?function(){var se;for(var Q=arguments.length,de=new Array(Q),E=0;E<Q;E++)de[E]=arguments[E];return t(A,null,[(se=g["append-inner"])==null?void 0:se.call(g,...de),J])}:void 0,"prepend-inner":qe?function(){var se;for(var Q=arguments.length,de=new Array(Q),E=0;E<Q;E++)de[E]=arguments[E];return t(A,null,[ie,(se=g["prepend-inner"])==null?void 0:se.call(g,...de)])}:void 0})}),Ke({},C)}}),St=He({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...lt(),...tt()},"VTextarea"),_t=Ee()({name:"VTextarea",directives:{Intersect:Je},inheritAttrs:!1,props:St(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,W){let{attrs:g,emit:C,slots:x}=W;const b=Le(e,"modelValue"),{isFocused:P,focus:o,blur:X}=ze(e),z=H(()=>typeof e.counterValue=="function"?e.counterValue(b.value):(b.value||"").toString().length),G=H(()=>{if(g.maxlength)return g.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function D(r,V){var s,w;!e.autofocus||!r||(w=(s=V[0].target)==null?void 0:s.focus)==null||w.call(s)}const f=k(),S=k(),h=$e(""),R=k(),Z=H(()=>e.persistentPlaceholder||P.value||e.active);function N(){var r;R.value!==document.activeElement&&((r=R.value)==null||r.focus()),P.value||o()}function ee(r){N(),C("click:control",r)}function te(r){C("mousedown:control",r)}function U(r){r.stopPropagation(),N(),Ne(()=>{b.value="",rt(e["onClick:clear"],r)})}function L(r){var s;const V=r.target;if(b.value=V.value,(s=e.modelModifiers)!=null&&s.trim){const w=[V.selectionStart,V.selectionEnd];Ne(()=>{V.selectionStart=w[0],V.selectionEnd=w[1]})}}const v=k(),l=k(Number(e.rows)),I=H(()=>["plain","underlined"].includes(e.variant));Oe(()=>{e.autoGrow||(l.value=Number(e.rows))});function a(){e.autoGrow&&Ne(()=>{if(!v.value||!S.value)return;const r=getComputedStyle(v.value),V=getComputedStyle(S.value.$el),s=parseFloat(r.getPropertyValue("--v-field-padding-top"))+parseFloat(r.getPropertyValue("--v-input-padding-top"))+parseFloat(r.getPropertyValue("--v-field-padding-bottom")),w=v.value.scrollHeight,T=parseFloat(r.lineHeight),Y=Math.max(parseFloat(e.rows)*T+s,parseFloat(V.getPropertyValue("--v-input-control-height"))),re=parseFloat(e.maxRows)*T+s||1/0,M=we(w??0,Y,re);l.value=Math.floor((M-s)/T),h.value=at(M)})}Se(a),ue(b,a),ue(()=>e.rows,a),ue(()=>e.maxRows,a),ue(()=>e.density,a);let d;return ue(v,r=>{r?(d=new ResizeObserver(a),d.observe(v.value)):d==null||d.disconnect()}),Qe(()=>{d==null||d.disconnect()}),je(()=>{const r=!!(x.counter||e.counter||e.counterValue),V=!!(r||x.details),[s,w]=et(g),{modelValue:T,...Y}=Ae.filterProps(e),re=De.filterProps(e);return t(Ae,xe({ref:f,modelValue:b.value,"onUpdate:modelValue":M=>b.value=M,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":I.value},e.class],style:e.style},s,Y,{centerAffix:l.value===1&&!I.value,focused:P.value}),{...x,default:M=>{let{id:le,isDisabled:me,isDirty:n,isReadonly:c,isValid:F}=M;return t(De,xe({ref:S,style:{"--v-textarea-control-height":h.value},onClick:ee,onMousedown:te,"onClick:clear":U,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},re,{id:le.value,active:Z.value||n.value,centerAffix:l.value===1&&!I.value,dirty:n.value||e.dirty,disabled:me.value,focused:P.value,error:F.value===!1}),{...x,default:ae=>{let{props:{class:B,...$}}=ae;return t(A,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),he(t("textarea",xe({ref:R,class:B,value:b.value,onInput:L,autofocus:e.autofocus,readonly:c.value,disabled:me.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:N,onBlur:X},$,w),null),[[ut("intersect"),{handler:D},null,{once:!0}]]),e.autoGrow&&he(t("textarea",{class:[B,"v-textarea__sizer"],id:`${$.id}-sizer`,"onUpdate:modelValue":J=>b.value=J,ref:v,readonly:!0,"aria-hidden":"true"},null),[[ot,b.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:V?M=>{var le;return t(A,null,[(le=x.details)==null?void 0:le.call(x,M),r&&t(A,null,[t("span",null,null),t(nt,{active:e.persistentCounter||P.value,value:z.value,max:G.value,disabled:e.disabled},x.counter)])])}:void 0})}),Ke({},f,S,R)}}),At={class:"bg-grey-lighten-3"},Dt={key:0},Tt={key:1},Ft={class:"border-s"},Gt={class:"roudend-0 bg-grey-lighten-3"},Rt={style:{width:"200px"}},$t=it({__name:"GroupDetailsView",setup(e){const W=yt(),g=wt(),C=ct(),x=k(!1),b=k(!1),P=k("list"),o=k(null),X=k([]),z=k(new Date().toISOString().split("T")[0]),G=k([]),D=k([]),f=k(!1),S=k(""),h=v=>{let l=G.value[v];if(o.value.gradingModel==1){let I=l.gradeUnits.filter(s=>s.order!==2),a=I.reduce((s,w)=>s+(parseFloat(w.grade)||0),0),d=I.length>0?a/I.length:0,r=l.gradeUnits.find(s=>s.order===2),V=r&&r.grade||0;l.finalGrade=Number(d*.9+V)}else if(o.value.gradingModel==2){let I=l.gradeUnits.reduce((d,r)=>d+(Number(r.grade)||0),0),a=l.gradeUnits.length;l.finalGrade=a>0?Number(I/a):0}},R=()=>(console.log(G.value),G.value.map(v=>({enrollmentGroupId:v.id,studentId:v.studentId,gradeId:v.gradeId,finalGrade:v.finalGrade,gradeUnits:v.gradeUnits.map(l=>({id:l.id,grade:l.grade,order:l.order}))}))),Z=async()=>{f.value=!0;const v=D.value.map(l=>({enrollmentGroupId:l.enrollmentGroupId,studentId:l.id,status:l.status,date:z.value}));D.value=await ft({students:v}),f.value=!1},N=async()=>{b.value=!0,await vt({id:o.value.id,observations:S.value}),b.value=!1},ee=async()=>{b.value=!0;const v=await mt(o.value.id);return b.value=!1,v},te=async()=>{const v=C.params.id;f.value=!0;const l=R();await gt({grades:l}),G.value=await Ue(v),f.value=!1},U=async()=>{const v=C.params.id;x.value=!0,D.value=await pt({id:v,date:z.value}),console.log(D),x.value=!1},L=async()=>{x.value=!0;const v=C.params.id;o.value=await bt(v),X.value=await Vt(v),G.value=await Ue(v),await U(),x.value=!1,W.setHeading(`${o==null?void 0:o.value.name} | ${o==null?void 0:o.value.course}`,"Gestión del grupo")};return Se(()=>{L()}),(v,l)=>{const I=dt("LnxIcon");return y(),O(ht,null,{default:u(()=>[t(Ve,{subtitle:"Detalle del grupo"},{default:u(()=>[t(Te,{class:"border-t"},{default:u(()=>[t(ye,null,{default:u(()=>[t(ve,null,{default:u(()=>[t(j,null,{default:u(()=>[t(K,null,{default:u(()=>l[5]||(l[5]=[p("Plan")])),_:1}),t(q,null,{default:u(()=>{var a;return[p(m((a=o.value)==null?void 0:a.curriculum),1)]}),_:1})]),_:1}),t(j,null,{default:u(()=>[t(K,null,{default:u(()=>l[6]||(l[6]=[p("Curso")])),_:1}),t(q,null,{default:u(()=>{var a;return[p(m((a=o.value)==null?void 0:a.course),1)]}),_:1})]),_:1}),t(j,null,{default:u(()=>[t(K,null,{default:u(()=>l[7]||(l[7]=[p("Modulo")])),_:1}),t(q,null,{default:u(()=>{var a;return[p(m((a=o.value)==null?void 0:a.module),1)]}),_:1})]),_:1}),t(j,null,{default:u(()=>[t(K,null,{default:u(()=>l[8]||(l[8]=[p("Área")])),_:1}),t(q,null,{default:u(()=>{var a;return[p(m((a=o.value)==null?void 0:a.area),1)]}),_:1})]),_:1})]),_:1}),t(ve,null,{default:u(()=>[t(j,null,{default:u(()=>[t(K,null,{default:u(()=>l[9]||(l[9]=[p("Grupo")])),_:1}),t(q,null,{default:u(()=>{var a;return[p(m((a=o.value)==null?void 0:a.name),1)]}),_:1})]),_:1}),t(j,null,{default:u(()=>[t(K,null,{default:u(()=>l[10]||(l[10]=[p("Periodo")])),_:1}),t(q,null,{default:u(()=>{var a,d;return[p(m((a=o.value)==null?void 0:a.period)+" - "+m((d=o.value)==null?void 0:d.month),1)]}),_:1})]),_:1}),t(j,null,{default:u(()=>[t(K,null,{default:u(()=>l[11]||(l[11]=[p("Modalidad")])),_:1}),t(q,null,{default:u(()=>{var a;return[p(m((a=o.value)==null?void 0:a.modality),1)]}),_:1})]),_:1}),t(j,null,{default:u(()=>[t(K,null,{default:u(()=>l[12]||(l[12]=[p("Horario")])),_:1}),t(q,null,{default:u(()=>{var a,d,r,V,s,w;return[p(m((d=(a=o.value)==null?void 0:a.schedules)==null?void 0:d.days)+" "+m((V=(r=o.value)==null?void 0:r.schedules)==null?void 0:V.startHour)+" - "+m((w=(s=o.value)==null?void 0:s.schedules)==null?void 0:w.endHour),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(xt,{modelValue:P.value,"onUpdate:modelValue":l[0]||(l[0]=a=>P.value=a)},{default:u(()=>[t(Pe,{value:"list"},{default:u(()=>l[13]||(l[13]=[p(" Estudiantes ")])),_:1}),t(Pe,{value:"grade"},{default:u(()=>l[14]||(l[14]=[p(" Notas ")])),_:1}),t(Pe,{value:"attendance"},{default:u(()=>l[15]||(l[15]=[p(" Asistencia ")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(Nt,{modelValue:P.value,"onUpdate:modelValue":l[4]||(l[4]=a=>P.value=a)},{default:u(()=>[t(ke,{value:"list"},{default:u(()=>[t(Ve,{class:"rounded-0"},{default:u(()=>[t(ye,null,{default:u(()=>[t(ve,{cols:"12"},{default:u(()=>[t(Ie,{class:"roudend-0",hover:""},{default:u(()=>[l[16]||(l[16]=i("thead",{class:"roudend-0 bg-grey-lighten-3"},[i("tr",null,[i("th",null,"N°"),i("th",null,"DNI"),i("th",null,"Nombre"),i("th",null,"Apellido Paterno"),i("th",null,"Apellido Materno"),i("th",null,"Celular"),i("th",null,"Tipo de estudiante")])],-1)),i("tbody",null,[(y(!0),_(A,null,ce(X.value,(a,d)=>(y(),_("tr",{key:a.id},[i("td",null,m(d+1),1),i("td",null,m(a.documentNumber),1),i("td",null,m(a.name),1),i("td",null,m(a.lastNameFather),1),i("td",null,m(a.lastNameMother),1),i("td",null,m(a.phone),1),i("td",null,m(a.studentType),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(ke,{value:"grade"},{default:u(()=>[t(Ve,{class:"rounded-0"},{default:u(()=>[t(ye,null,{default:u(()=>[t(ve,{cols:"12"},{default:u(()=>[t(Ie,{class:"roudend-0",hover:""},{default:u(()=>[i("thead",At,[i("tr",null,[l[17]||(l[17]=i("th",null,"N°",-1)),l[18]||(l[18]=i("th",null,"DNI",-1)),l[19]||(l[19]=i("th",null,"Nombre",-1)),l[20]||(l[20]=i("th",null,"Apellido Paterno",-1)),l[21]||(l[21]=i("th",null,"Apellido Materno",-1)),(y(!0),_(A,null,ce(o.value.units,a=>(y(),_("th",{style:{width:"120px"},key:a},[o.value.gradingModel==1?(y(),_("span",Dt,[a==1?(y(),_(A,{key:0},[p(" Prom. Cap. ")],64)):(y(),_(A,{key:1},[p(" Act ")],64))])):(y(),_("span",Tt," Unidad "+m(a),1))]))),128)),l[22]||(l[22]=i("th",{style:{width:"120px"}},"Nota final",-1))])]),i("tbody",null,[(y(!0),_(A,null,ce(G.value,(a,d)=>(y(),_("tr",{key:a.id},[i("td",null,m(d+1),1),i("td",null,m(a.documentNumber),1),i("td",null,m(a.name),1),i("td",null,m(a.lastNameFather),1),i("td",null,m(a.lastNameMother),1),(y(!0),_(A,null,ce(a.gradeUnits,(r,V)=>{var s,w;return y(),_("td",{key:V,class:"border-s"},[o.value.gradingModel==1&&r.order==2?(y(),O(Fe,{key:0,modelValue:r.grade,"onUpdate:modelValue":[T=>r.grade=T,T=>h(d)],modelModifiers:{number:!0},density:"compact",readonly:((s=fe(g).gradeDeadline)==null?void 0:s.periodId)!=o.value.periodId,items:[{title:"A",value:2},{title:"B",value:1},{title:"C",value:0}]},null,8,["modelValue","onUpdate:modelValue","readonly"])):(y(),O(Be,{key:1,readonly:((w=fe(g).gradeDeadline)==null?void 0:w.periodId)!=o.value.periodId,modelValue:r.grade,"onUpdate:modelValue":[T=>r.grade=T,T=>h(d)],modelModifiers:{number:!0},controlVariant:"hidden",precision:2,max:20,min:0,density:"compact"},null,8,["readonly","modelValue","onUpdate:modelValue"]))])}),128)),i("td",Ft,[t(Be,{modelValue:a.finalGrade,"onUpdate:modelValue":r=>a.finalGrade=r,modelModifiers:{number:!0},precision:2,density:"compact",controlVariant:"hidden",readonly:""},null,8,["modelValue","onUpdate:modelValue"])])]))),128))])]),_:1})]),_:1})]),_:1}),t(Ge,{class:"bg-grey-lighten-3"},{default:u(()=>{var a,d;return[o.value.hasAcademicRecord?(y(),O(oe,{key:0,color:"primary",onClick:l[1]||(l[1]=r=>ee()),variant:"tonal",loading:b.value},{prepend:u(()=>[t(I,{iconName:"document-download"})]),default:u(()=>[l[23]||(l[23]=p(" Visualizar acta "))]),_:1},8,["loading"])):ne("",!0),((a=fe(g).gradeDeadline)==null?void 0:a.periodId)==o.value.periodId?(y(),O(oe,{key:1,color:"dark",variant:"tonal",loading:b.value},{prepend:u(()=>[t(I,{iconName:"document-download"})]),default:u(()=>[t(st,{title:"Confirmar",message:"<b>Asegúrate de que toda la información sea correcta antes de continuar</b>.<br>Al generar el acta de notas, el grupo se dará por <b>FINALIZADO</b>.",loading:b.value,confirmText:"Generar",cancelText:"Cancelar",onOnConfirm:N},{default:u(()=>[o.value.hasAcademicRecord?(y(),O(Te,{key:0,class:"border-b"},{default:u(()=>[t(_t,{modelValue:S.value,"onUpdate:modelValue":l[2]||(l[2]=r=>S.value=r),label:"Observaciones",rows:"2",outlined:"",density:"compact"},null,8,["modelValue"])]),_:1})):ne("",!0)]),_:1},8,["loading"]),l[24]||(l[24]=p(" Generar acta "))]),_:1},8,["loading"])):ne("",!0),t(Re),((d=fe(g).gradeDeadline)==null?void 0:d.periodId)==o.value.periodId?he((y(),O(oe,{key:2,color:"primary",variant:"flat",onClick:te,class:"ms-2",loading:f.value},{prepend:u(()=>[t(I,{iconName:"task"})]),default:u(()=>[l[25]||(l[25]=p(" Guardar "))]),_:1},8,["loading"])),[[Me,"Guardar cambios","top"]]):ne("",!0)]}),_:1})]),_:1})]),_:1}),t(ke,{value:"attendance"},{default:u(()=>[t(Ve,{class:"rounded-0"},{default:u(()=>[t(ye,null,{default:u(()=>[t(ve,{cols:"12"},{default:u(()=>[t(Ie,{class:"roudend-0",hover:""},{default:u(()=>[i("thead",Gt,[i("tr",null,[l[26]||(l[26]=i("th",null,"N°",-1)),l[27]||(l[27]=i("th",null,"DNI",-1)),l[28]||(l[28]=i("th",null,"Nombre",-1)),i("th",Rt,[t(Ce,{modelValue:z.value,"onUpdate:modelValue":[l[3]||(l[3]=a=>z.value=a),U],density:"compact",type:"date"},null,8,["modelValue"])])])]),i("tbody",null,[(y(!0),_(A,null,ce(D.value,(a,d)=>(y(),_("tr",{key:a.id},[i("td",null,m(d+1),1),i("td",null,m(a.documentNumber),1),i("td",null,m(a.lastNameFather)+" "+m(a.lastNameMother)+", "+m(a.name),1),i("td",null,[t(Fe,{modelValue:a.status,"onUpdate:modelValue":r=>a.status=r,density:"compact",items:["PRESENTE","FALTA","TARDE"]},null,8,["modelValue","onUpdate:modelValue"])])]))),128))])]),_:1})]),_:1})]),_:1}),t(Ge,{class:"bg-grey-lighten-3"},{default:u(()=>{var a;return[ne("",!0),t(Re),((a=fe(g).gradeDeadline)==null?void 0:a.periodId)==o.value.periodId?he((y(),O(oe,{key:1,color:"primary",variant:"flat",onClick:Z,class:"ms-2",loading:f.value},{prepend:u(()=>[t(I,{iconName:"task"})]),default:u(()=>[l[30]||(l[30]=p(" Guardar "))]),_:1},8,["loading"])),[[Me,"Guardar asistencia","top"]]):ne("",!0)]}),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{$t as default};
