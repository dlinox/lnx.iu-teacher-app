import{u as Oe}from"./period.stores-BUX23k2I.js";import{aC as Ge,g as _e,p as we,aD as We,d as B,D as G,aE as $e,aF as je,Y as ue,aG as qe,F as T,aH as Je,aI as Qe,aJ as Ye,Q,a1 as me,aK as Xe,u as Pe,k as ye,a as l,a4 as z,f as Ze,aL as et,aM as tt,aN as lt,aO as at,aP as nt,aQ as ge,aR as he,aS as ut,a9 as K,aT as ie,aU as ot,am as it,ag as st,ah as Ve,aV as rt,aW as dt,aX as ct,ak as vt,aY as ft,aZ as se,a7 as re,s as m,y as mt,z as yt,aA as gt,W as ht,a6 as Vt,J as kt,n as de,K as St,a_ as bt,aB as pt,e as Ct,a$ as xt,h as _t,c as W,w as n,b0 as ke,V as Y,j as oe,ap as X,af as x,b1 as Se,v as k,i as P,b2 as be,al as pe,o as L}from"./index-gvrUa8_8.js";import{_ as wt,a as Pt}from"./index-CX7O1jiw.js";import{u as It}from"./heading.store-rYL8HsMl.js";import{a as Z,V as Ce}from"./VRow-leZSyQgY.js";import{V as At}from"./VContainer-C-NBotit.js";const Dt="period",Ft=async()=>{try{return(await Ge().get(`/${Dt}/by-teacher`)).data.data}catch{return[]}},Tt=we({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...at({filterKeys:["title"]}),...lt(),...tt(nt({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...et({transition:!1})},"VAutocomplete"),Rt=_e()({name:"VAutocomplete",props:Tt(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,U){let{slots:o}=U;const{t:r}=We(),y=B(),b=G(!1),p=G(!0),R=G(!1),O=B(),_=B(),a=G(-1),{items:i,transformIn:I,transformOut:A}=$e(e),{textColorClasses:D,textColorStyles:H}=je(()=>{var t;return(t=y.value)==null?void 0:t.color}),g=ue(e,"search",""),s=ue(e,"modelValue",[],t=>I(t===null?[null]:qe(t)),t=>{const u=A(t);return e.multiple?u:u[0]??null}),$=T(()=>typeof e.counterValue=="function"?e.counterValue(s.value):typeof e.counterValue=="number"?e.counterValue:s.value.length),E=Je(e),{filteredItems:ee,getMatches:Ie}=Qe(e,i,()=>p.value?"":g.value),F=T(()=>e.hideSelected?ee.value.filter(t=>!s.value.some(u=>u.value===t.value)):ee.value),j=T(()=>!!(e.chips||o.chip)),N=T(()=>j.value||!!o.selection),Ae=T(()=>s.value.map(t=>t.props.value)),te=T(()=>{var u;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&g.value===((u=F.value[0])==null?void 0:u.title))&&F.value.length>0&&!p.value&&!R.value}),q=T(()=>e.hideNoData&&!F.value.length||E.isReadonly.value||E.isDisabled.value),le=ue(e,"menu"),h=T({get:()=>le.value,set:t=>{var u;le.value&&!t&&((u=O.value)!=null&&u.Î¨openChildren.size)||t&&q.value||(le.value=t)}}),ce=T(()=>h.value?e.closeText:e.openText),ae=B(),De=Ye(ae,y);function Fe(t){e.openOnClear&&(h.value=!0),g.value=""}function Te(){q.value||(h.value=!0)}function Re(t){q.value||(b.value&&(t.preventDefault(),t.stopPropagation()),h.value=!h.value)}function Be(t){var u;t.key!==" "&&ge(t)&&((u=y.value)==null||u.focus())}function Ee(t){var d,f,C,w,c;if(E.isReadonly.value)return;const u=(d=y.value)==null?void 0:d.selectionStart,v=s.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(h.value=!0),["Escape"].includes(t.key)&&(h.value=!1),te.value&&["Enter","Tab"].includes(t.key)&&!s.value.some(S=>{let{value:V}=S;return V===F.value[0].value})&&M(F.value[0]),t.key==="ArrowDown"&&te.value&&((f=ae.value)==null||f.focus("next")),["Backspace","Delete"].includes(t.key)){if(!e.multiple&&N.value&&s.value.length>0&&!g.value)return M(s.value[0],!1);if(~a.value){t.preventDefault();const S=a.value;M(s.value[a.value],!1),a.value=S>=v-1?v-2:S}else t.key==="Backspace"&&!g.value&&(a.value=v-1);return}if(e.multiple)if(t.key==="ArrowLeft"){if(a.value<0&&u&&u>0)return;const S=a.value>-1?a.value-1:v-1;if(s.value[S])a.value=S;else{const V=((C=g.value)==null?void 0:C.length)??null;a.value=-1,(w=y.value)==null||w.setSelectionRange(V,V)}}else if(t.key==="ArrowRight"){if(a.value<0)return;const S=a.value+1;s.value[S]?a.value=S:(a.value=-1,(c=y.value)==null||c.setSelectionRange(0,0))}else~a.value&&ge(t)&&(a.value=-1)}function Me(t){if(he(y.value,":autofill")||he(y.value,":-webkit-autofill")){const u=i.value.find(v=>v.title===t.target.value);u&&M(u)}}function Le(){var t;e.eager&&((t=_.value)==null||t.calculateVisibleItems())}function He(){var t;b.value&&(p.value=!0,(t=y.value)==null||t.focus())}function Ne(t){b.value=!0,setTimeout(()=>{R.value=!0})}function ze(t){R.value=!1}function Ke(t){(t==null||t===""&&!e.multiple&&!N.value)&&(s.value=[])}const ne=G(!1);function M(t){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!t||t.props.disabled))if(e.multiple){const v=s.value.findIndex(f=>(e.valueComparator||ut)(f.value,t.value)),d=u??!~v;if(~v){const f=d?[...s.value,t]:[...s.value];f.splice(v,1),s.value=f}else d&&(s.value=[...s.value,t]);e.clearOnSelect&&(g.value="")}else{const v=u!==!1;s.value=v?[t]:[],g.value=v&&!N.value?t.title:"",me(()=>{h.value=!1,p.value=!0})}}return Q(b,(t,u)=>{var v;t!==u&&(t?(ne.value=!0,g.value=e.multiple||N.value?"":String(((v=s.value.at(-1))==null?void 0:v.props.title)??""),p.value=!0,me(()=>ne.value=!1)):(!e.multiple&&g.value==null&&(s.value=[]),h.value=!1,(e.multiple||N.value)&&(g.value=""),a.value=-1))}),Q(g,t=>{!b.value||ne.value||(t&&(h.value=!0),p.value=!t)}),Q(h,()=>{if(!e.hideSelected&&h.value&&s.value.length){const t=F.value.findIndex(u=>s.value.some(v=>u.value===v.value));Xe&&window.requestAnimationFrame(()=>{var u;t>=0&&((u=_.value)==null||u.scrollToIndex(t))})}}),Q(()=>e.items,(t,u)=>{h.value||b.value&&!u.length&&t.length&&(h.value=!0)}),Pe(()=>{const t=!!(!e.hideNoData||F.value.length||o["prepend-item"]||o["append-item"]||o["no-data"]),u=s.value.length>0,v=ye.filterProps(e);return l(ye,z({ref:y},v,{modelValue:g.value,"onUpdate:modelValue":[d=>g.value=d,Ke],focused:b.value,"onUpdate:focused":d=>b.value=d,validationValue:s.externalValue,counterValue:$.value,dirty:u,onChange:Me,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":h.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!N.value,"v-autocomplete--selecting-index":a.value>-1},e.class],style:e.style,readonly:E.isReadonly.value,placeholder:u?void 0:e.placeholder,"onClick:clear":Fe,"onMousedown:control":Te,onKeydown:Ee}),{...o,default:()=>l(K,null,[l(it,z({ref:O,modelValue:h.value,"onUpdate:modelValue":d=>h.value=d,activator:"parent",contentClass:"v-autocomplete__content",disabled:q.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Le,onAfterLeave:He},e.menuProps),{default:()=>[t&&l(st,z({ref:ae,selected:Ae.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:d=>d.preventDefault(),onKeydown:Be,onFocusin:Ne,onFocusout:ze,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},De,e.listProps),{default:()=>{var d,f,C;return[(d=o["prepend-item"])==null?void 0:d.call(o),!F.value.length&&!e.hideNoData&&(((f=o["no-data"])==null?void 0:f.call(o))??l(Ve,{key:"no-data",title:r(e.noDataText)},null)),l(rt,{ref:_,renderless:!0,items:F.value,itemKey:"value"},{default:w=>{var fe;let{item:c,index:S,itemRef:V}=w;const ve=z(c.props,{ref:V,key:c.value,active:te.value&&S===0?!0:void 0,onClick:()=>M(c,null)});return((fe=o.item)==null?void 0:fe.call(o,{item:c,index:S,props:ve}))??l(Ve,z(ve,{role:"option"}),{prepend:J=>{let{isSelected:Ue}=J;return l(K,null,[e.multiple&&!e.hideSelected?l(ct,{key:c.value,modelValue:Ue,ripple:!1,tabindex:"-1"},null):void 0,c.props.prependAvatar&&l(vt,{image:c.props.prependAvatar},null),c.props.prependIcon&&l(ie,{icon:c.props.prependIcon},null)])},title:()=>{var J;return p.value?c.title:dt("v-autocomplete",c.title,(J=Ie(c))==null?void 0:J.title)}})}}),(C=o["append-item"])==null?void 0:C.call(o)]}})]}),s.value.map((d,f)=>{function C(V){V.stopPropagation(),V.preventDefault(),M(d,!1)}const w={"onClick:close":C,onKeydown(V){V.key!=="Enter"&&V.key!==" "||(V.preventDefault(),V.stopPropagation(),C(V))},onMousedown(V){V.preventDefault(),V.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},c=j.value?!!o.chip:!!o.selection,S=c?ft(j.value?o.chip({item:d,index:f,props:w}):o.selection({item:d,index:f})):void 0;if(!(c&&!S))return l("div",{key:d.value,class:["v-autocomplete__selection",f===a.value&&["v-autocomplete__selection--selected",D.value]],style:f===a.value?H.value:{}},[j.value?o.chip?l(re,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:d.title}}},{default:()=>[S]}):l(se,z({key:"chip",closable:e.closableChips,size:"small",text:d.title,disabled:d.props.disabled},w),null):S??l("span",{class:"v-autocomplete__selection-text"},[d.title,e.multiple&&f<s.value.length-1&&l("span",{class:"v-autocomplete__selection-comma"},[m(",")])])])})]),"append-inner":function(){var w,c;for(var d=arguments.length,f=new Array(d),C=0;C<d;C++)f[C]=arguments[C];return l(K,null,[(w=o["append-inner"])==null?void 0:w.call(o,...f),e.menuIcon?l(ie,{class:"v-autocomplete__menu-icon",color:(c=y.value)==null?void 0:c.fieldIconColor,icon:e.menuIcon,onMousedown:Re,onClick:ot,"aria-label":r(ce.value),title:r(ce.value),tabindex:"-1"},null):void 0])}})}),Ze({isFocused:b,isPristine:p,menu:h,search:g,filteredItems:ee,select:M},y)}}),Bt=we({actionText:String,bgColor:String,color:String,icon:xt,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,...Ct(),...pt(),...bt({size:void 0}),...St()},"VEmptyState"),xe=_e()({name:"VEmptyState",props:Bt(),emits:{"click:action":e=>!0},setup(e,U){let{emit:o,slots:r}=U;const{themeClasses:y}=mt(e),{backgroundColorClasses:b,backgroundColorStyles:p}=yt(()=>e.bgColor),{dimensionStyles:R}=gt(e),{displayClasses:O}=ht();function _(a){o("click:action",a)}return Pe(()=>{var g,s,$;const a=!!(r.actions||e.actionText),i=!!(r.headline||e.headline),I=!!(r.title||e.title),A=!!(r.text||e.text),D=!!(r.media||e.image||e.icon),H=e.size||(e.image?200:96);return l("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},y.value,b.value,O.value,e.class],style:[p.value,R.value,e.style]},[D&&l("div",{key:"media",class:"v-empty-state__media"},[r.media?l(re,{key:"media-defaults",defaults:{VImg:{src:e.image,height:H},VIcon:{size:H,icon:e.icon}}},{default:()=>[r.media()]}):l(K,null,[e.image?l(Vt,{key:"image",src:e.image,height:H},null):e.icon?l(ie,{key:"icon",color:e.color,size:H,icon:e.icon},null):void 0])]),i&&l("div",{key:"headline",class:"v-empty-state__headline"},[((g=r.headline)==null?void 0:g.call(r))??e.headline]),I&&l("div",{key:"title",class:"v-empty-state__title"},[((s=r.title)==null?void 0:s.call(r))??e.title]),A&&l("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:kt(e.textWidth)}},[(($=r.text)==null?void 0:$.call(r))??e.text]),r.default&&l("div",{key:"content",class:"v-empty-state__content"},[r.default()]),a&&l("div",{key:"actions",class:"v-empty-state__actions"},[l(re,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",href:e.href,text:e.actionText,to:e.to}}},{default:()=>{var E;return[((E=r.actions)==null?void 0:E.call(r,{props:{onClick:_}}))??l(de,{onClick:_},null)]}})])])}),{}}}),Kt=_t({__name:"DashboardView",setup(e){const U=It(),o=Oe(),r=B([]),y=B([]),b=B([]),p=B(null),R=async()=>{y.value=await wt(p.value)};return(async()=>{var _;U.setHeading("Inicio","Bienvenido"),r.value=await Ft(),b.value=await Pt(),p.value=(_=o.current)==null?void 0:_.id,await R()})(),(_,a)=>(L(),W(At,null,{default:n(()=>[l(Ce,null,{default:n(()=>[l(Z,{cols:"12",md:"7"},{default:n(()=>[l(Y,{elevation:"0",class:"rounded-0 border"},{default:n(()=>[l(oe,null,{default:n(()=>[l(Ce,{justify:"space-between"},{default:n(()=>[l(Z,{cols:"12",md:"7"},{default:n(()=>[l(X,null,{default:n(()=>a[1]||(a[1]=[m("Grupos")])),_:1}),l(x,null,{default:n(()=>a[2]||(a[2]=[m("Lista de grupos asignados")])),_:1})]),_:1}),l(Z,{cols:"12",md:"4"},{default:n(()=>[l(Rt,{modelValue:p.value,"onUpdate:modelValue":[a[0]||(a[0]=i=>p.value=i),R],label:"Periodos",items:r.value,"hide-details":"auto"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),y.value.length>0?(L(!0),ke(K,{key:0},Se(y.value,i=>(L(),W(Y,{elevation:"0",class:"rounded-0 border mb-3",key:i.id},{default:n(()=>[l(oe,{class:"border-b"},{default:n(()=>[l(x,null,{default:n(()=>[l(se,{color:"primary",rounded:"0",label:""},{default:n(()=>[m(k(i.modality),1)]),_:2},1024)]),_:2},1024),l(X,null,{default:n(()=>[P("strong",null,k(i.name),1),m(" | "+k(i.course),1)]),_:2},1024),l(x,null,{default:n(()=>[a[3]||(a[3]=P("b",null,"Plan de estudio: ",-1)),m(" "+k(i.curriculum),1)]),_:2},1024),l(x,null,{default:n(()=>[a[4]||(a[4]=P("b",null,"Modulo: ",-1)),m(k(i.module),1)]),_:2},1024),l(x,null,{default:n(()=>[a[5]||(a[5]=P("b",null,"Area: ",-1)),m(" "+k(i.area),1)]),_:2},1024),l(x,null,{default:n(()=>{var I,A,D;return[a[6]||(a[6]=P("b",null,"Horario: ",-1)),m(" "+k((I=i.schedules)==null?void 0:I.days)+" "+k((A=i.schedules)==null?void 0:A.startHour)+"-"+k((D=i.schedules)==null?void 0:D.endHour),1)]}),_:2},1024)]),_:2},1024),l(be,null,{default:n(()=>[l(pe),l(de,{color:"primary",link:"",to:`/group/${i.id}`},{default:n(()=>a[7]||(a[7]=[m(" ver grupo ")])),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128)):(L(),W(xe,{key:1,headline:"Sin datos",title:"Seleccione un periodo"}))]),_:1}),l(Z,{cols:"12",md:"5"},{default:n(()=>[l(Y,{elevation:"0",class:"rounded-0 border py-1"},{default:n(()=>[l(X,null,{default:n(()=>a[8]||(a[8]=[m("Grupos Activos")])),_:1}),l(x,null,{default:n(()=>a[9]||(a[9]=[m("Lista de grupos activos asignados")])),_:1})]),_:1}),b.value.length>0?(L(!0),ke(K,{key:0},Se(b.value,i=>(L(),W(Y,{elevation:"0",class:"rounded-0 border mb-3",key:i.id},{default:n(()=>[l(oe,{class:"border-b"},{default:n(()=>[l(x,null,{default:n(()=>[l(se,{color:"primary",rounded:"0",label:""},{default:n(()=>[m(k(i.modality),1)]),_:2},1024)]),_:2},1024),l(X,null,{default:n(()=>[P("strong",null,k(i.name),1),m(" | "+k(i.course),1)]),_:2},1024),l(x,null,{default:n(()=>[a[10]||(a[10]=P("b",null,"Plan de estudio: ",-1)),m(" "+k(i.curriculum),1)]),_:2},1024),l(x,null,{default:n(()=>[a[11]||(a[11]=P("b",null,"Modulo: ",-1)),m(k(i.module),1)]),_:2},1024),l(x,null,{default:n(()=>[a[12]||(a[12]=P("b",null,"Area: ",-1)),m(" "+k(i.area),1)]),_:2},1024),l(x,null,{default:n(()=>{var I,A,D;return[a[13]||(a[13]=P("b",null,"Horario: ",-1)),m(" "+k((I=i.schedules)==null?void 0:I.days)+" "+k((A=i.schedules)==null?void 0:A.startHour)+"-"+k((D=i.schedules)==null?void 0:D.endHour),1)]}),_:2},1024)]),_:2},1024),l(be,null,{default:n(()=>[l(pe),l(de,{color:"primary",link:"",to:`/group/${i.id}`},{default:n(()=>a[14]||(a[14]=[m(" ver grupo ")])),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128)):(L(),W(xe,{key:1,headline:"Sin datos",title:"No tiene grupos activos"}))]),_:1})]),_:1})]),_:1}))}});export{Kt as default};
