import{aA as Ge,d as I,v as $e,g as we,p as Pe,aB as je,B as O,H as se,C as P,aC as We,aD as qe,aE as Je,aF as Qe,aG as Xe,aH as Ye,E as Y,a6 as ge,aI as Ze,u as Ae,k as he,a as l,M as U,f as el,aJ as ll,aK as tl,aL as al,aM as nl,aN as ul,aO as Ve,aP as ke,aQ as ol,ac as E,aR as de,aS as sl,aT as il,aj as rl,ak as pe,aU as dl,aV as cl,aW as vl,aX as fl,aY as ce,aa as ve,n as y,N as ml,O as yl,L as gl,ax as hl,a2 as Vl,a9 as kl,T as pl,l as fe,U as bl,aZ as Sl,ay as Cl,e as _l,a_ as xl,h as wl,a$ as ie,V as z,w as n,c as Z,i as re,b0 as ee,ag as w,b1 as be,ah as V,j as A,b2 as Se,x as Ce,o as B}from"./index-B4Q8W2lJ.js";import{_ as Pl,a as Al}from"./index-BVECOarq.js";import{V as _e,a as le,b as Il}from"./VRow-D1cBycFV.js";const Tl=Ge("period",()=>{const e=I(null),b=I(null);return{current:e,getCurrent:async()=>{e.value=null},enrolled:b,getEnrolled:async()=>{b.value=null}}}),Dl="period",Fl=async()=>{try{return(await $e().get(`/${Dl}/by-teacher`)).data.data}catch{return[]}};function El(e,b,u){if(b==null)return e;if(Array.isArray(b))throw new Error("Multiple matches is not implemented");return typeof b=="number"&&~b?l(E,null,[l("span",{class:"v-autocomplete__unmask"},[e.substr(0,b)]),l("span",{class:"v-autocomplete__mask"},[e.substr(b,u)]),l("span",{class:"v-autocomplete__unmask"},[e.substr(b+u)])]):e}const Rl=Pe({autoSelectFirst:{type:[Boolean,String]},clearOnSelect:Boolean,search:String,...nl({filterKeys:["title"]}),...al(),...tl(ul({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...ll({transition:!1})},"VAutocomplete"),Ml=we()({name:"VAutocomplete",props:Rl(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,b){let{slots:u}=b;const{t:i}=je(),k=I(),S=O(!1),C=O(!0),N=O(!1),F=I(),a=I(),s=se(e,"menu"),v=P({get:()=>s.value,set:t=>{var o;s.value&&!t&&((o=F.value)!=null&&o.ΨopenChildren.size)||(s.value=t)}}),d=O(-1),T=P(()=>{var t;return(t=k.value)==null?void 0:t.color}),K=P(()=>v.value?e.closeText:e.openText),{items:R,transformIn:G,transformOut:$}=We(e),{textColorClasses:j,textColorStyles:W}=qe(T),g=se(e,"search",""),c=se(e,"modelValue",[],t=>G(t===null?[null]:Je(t)),t=>{const o=$(t);return e.multiple?o:o[0]??null}),Ie=P(()=>typeof e.counterValue=="function"?e.counterValue(c.value):typeof e.counterValue=="number"?e.counterValue:c.value.length),q=Qe(e),{filteredItems:te,getMatches:Te}=Xe(e,R,()=>C.value?"":g.value),D=P(()=>e.hideSelected?te.value.filter(t=>!c.value.some(o=>o.value===t.value)):te.value),J=P(()=>!!(e.chips||u.chip)),H=P(()=>J.value||!!u.selection),De=P(()=>c.value.map(t=>t.props.value)),ae=P(()=>{var o;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&g.value===((o=D.value[0])==null?void 0:o.title))&&D.value.length>0&&!C.value&&!N.value}),ne=P(()=>e.hideNoData&&!D.value.length||q.isReadonly.value||q.isDisabled.value),ue=I(),Fe=Ye(ue,k);function Ee(t){e.openOnClear&&(v.value=!0),g.value=""}function Re(){ne.value||(v.value=!0)}function Me(t){ne.value||(S.value&&(t.preventDefault(),t.stopPropagation()),v.value=!v.value)}function Be(t){var o;t.key!==" "&&Ve(t)&&((o=k.value)==null||o.focus())}function Ne(t){var r,f,_;if(q.isReadonly.value)return;const o=k.value.selectionStart,m=c.value.length;if(["Enter","ArrowDown","ArrowUp"].includes(t.key)&&t.preventDefault(),["Enter","ArrowDown"].includes(t.key)&&(v.value=!0),["Escape"].includes(t.key)&&(v.value=!1),ae.value&&["Enter","Tab"].includes(t.key)&&!c.value.some(h=>{let{value:p}=h;return p===D.value[0].value})&&M(D.value[0]),t.key==="ArrowDown"&&ae.value&&((r=ue.value)==null||r.focus("next")),["Backspace","Delete"].includes(t.key)){if(!e.multiple&&H.value&&c.value.length>0&&!g.value)return M(c.value[0],!1);if(~d.value){t.preventDefault();const h=d.value;M(c.value[d.value],!1),d.value=h>=m-1?m-2:h}else t.key==="Backspace"&&!g.value&&(d.value=m-1);return}if(e.multiple)if(t.key==="ArrowLeft"){if(d.value<0&&o>0)return;const h=d.value>-1?d.value-1:m-1;c.value[h]?d.value=h:(d.value=-1,k.value.setSelectionRange((f=g.value)==null?void 0:f.length,(_=g.value)==null?void 0:_.length))}else if(t.key==="ArrowRight"){if(d.value<0)return;const h=d.value+1;c.value[h]?d.value=h:(d.value=-1,k.value.setSelectionRange(0,0))}else~d.value&&Ve(t)&&(d.value=-1)}function Le(t){if(ke(k.value,":autofill")||ke(k.value,":-webkit-autofill")){const o=R.value.find(m=>m.title===t.target.value);o&&M(o)}}function Ue(){var t;e.eager&&((t=a.value)==null||t.calculateVisibleItems())}function He(){var t;S.value&&(C.value=!0,(t=k.value)==null||t.focus())}function Oe(t){S.value=!0,setTimeout(()=>{N.value=!0})}function ze(t){N.value=!1}function Ke(t){(t==null||t===""&&!e.multiple&&!H.value)&&(c.value=[])}const oe=O(!1);function M(t){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!(!t||t.props.disabled))if(e.multiple){const m=c.value.findIndex(f=>(e.valueComparator||ol)(f.value,t.value)),r=o??!~m;if(~m){const f=r?[...c.value,t]:[...c.value];f.splice(m,1),c.value=f}else r&&(c.value=[...c.value,t]);e.clearOnSelect&&(g.value="")}else{const m=o!==!1;c.value=m?[t]:[],g.value=m&&!H.value?t.title:"",ge(()=>{v.value=!1,C.value=!0})}}return Y(S,(t,o)=>{var m;t!==o&&(t?(oe.value=!0,g.value=e.multiple||H.value?"":String(((m=c.value.at(-1))==null?void 0:m.props.title)??""),C.value=!0,ge(()=>oe.value=!1)):(!e.multiple&&g.value==null&&(c.value=[]),v.value=!1,c.value.some(r=>{let{title:f}=r;return f===g.value})||(g.value=""),d.value=-1))}),Y(g,t=>{!S.value||oe.value||(t&&(v.value=!0),C.value=!t)}),Y(v,()=>{if(!e.hideSelected&&v.value&&c.value.length){const t=D.value.findIndex(o=>c.value.some(m=>o.value===m.value));Ze&&window.requestAnimationFrame(()=>{var o;t>=0&&((o=a.value)==null||o.scrollToIndex(t))})}}),Y(()=>e.items,(t,o)=>{v.value||S.value&&!o.length&&t.length&&(v.value=!0)}),Ae(()=>{const t=!!(!e.hideNoData||D.value.length||u["prepend-item"]||u["append-item"]||u["no-data"]),o=c.value.length>0,m=he.filterProps(e);return l(he,U({ref:k},m,{modelValue:g.value,"onUpdate:modelValue":[r=>g.value=r,Ke],focused:S.value,"onUpdate:focused":r=>S.value=r,validationValue:c.externalValue,counterValue:Ie.value,dirty:o,onChange:Le,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":v.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!H.value,"v-autocomplete--selecting-index":d.value>-1},e.class],style:e.style,readonly:q.isReadonly.value,placeholder:o?void 0:e.placeholder,"onClick:clear":Ee,"onMousedown:control":Re,onKeydown:Ne}),{...u,default:()=>l(E,null,[l(il,U({ref:F,modelValue:v.value,"onUpdate:modelValue":r=>v.value=r,activator:"parent",contentClass:"v-autocomplete__content",disabled:ne.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:Ue,onAfterLeave:He},e.menuProps),{default:()=>[t&&l(rl,U({ref:ue,selected:De.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:r=>r.preventDefault(),onKeydown:Be,onFocusin:Oe,onFocusout:ze,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},Fe,e.listProps),{default:()=>{var r,f,_;return[(r=u["prepend-item"])==null?void 0:r.call(u),!D.value.length&&!e.hideNoData&&(((f=u["no-data"])==null?void 0:f.call(u))??l(pe,{key:"no-data",title:i(e.noDataText)},null)),l(dl,{ref:a,renderless:!0,items:D.value},{default:h=>{var ye;let{item:p,index:L,itemRef:x}=h;const me=U(p.props,{ref:x,key:p.value,active:ae.value&&L===0?!0:void 0,onClick:()=>M(p,null)});return((ye=u.item)==null?void 0:ye.call(u,{item:p,index:L,props:me}))??l(pe,U(me,{role:"option"}),{prepend:Q=>{let{isSelected:X}=Q;return l(E,null,[e.multiple&&!e.hideSelected?l(cl,{key:p.value,modelValue:X,ripple:!1,tabindex:"-1"},null):void 0,p.props.prependAvatar&&l(vl,{image:p.props.prependAvatar},null),p.props.prependIcon&&l(de,{icon:p.props.prependIcon},null)])},title:()=>{var Q,X;return C.value?p.title:El(p.title,(Q=Te(p))==null?void 0:Q.title,((X=g.value)==null?void 0:X.length)??0)}})}}),(_=u["append-item"])==null?void 0:_.call(u)]}})]}),c.value.map((r,f)=>{function _(x){x.stopPropagation(),x.preventDefault(),M(r,!1)}const h={"onClick:close":_,onKeydown(x){x.key!=="Enter"&&x.key!==" "||(x.preventDefault(),x.stopPropagation(),_(x))},onMousedown(x){x.preventDefault(),x.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},p=J.value?!!u.chip:!!u.selection,L=p?fl(J.value?u.chip({item:r,index:f,props:h}):u.selection({item:r,index:f})):void 0;if(!(p&&!L))return l("div",{key:r.value,class:["v-autocomplete__selection",f===d.value&&["v-autocomplete__selection--selected",j.value]],style:f===d.value?W.value:{}},[J.value?u.chip?l(ve,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:r.title}}},{default:()=>[L]}):l(ce,U({key:"chip",closable:e.closableChips,size:"small",text:r.title,disabled:r.props.disabled},h),null):L??l("span",{class:"v-autocomplete__selection-text"},[r.title,e.multiple&&f<c.value.length-1&&l("span",{class:"v-autocomplete__selection-comma"},[y(",")])])])})]),"append-inner":function(){var h;for(var r=arguments.length,f=new Array(r),_=0;_<r;_++)f[_]=arguments[_];return l(E,null,[(h=u["append-inner"])==null?void 0:h.call(u,...f),e.menuIcon?l(de,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:Me,onClick:sl,"aria-label":i(K.value),title:i(K.value),tabindex:"-1"},null):void 0])}})}),el({isFocused:S,isPristine:C,menu:v,search:g,filteredItems:te,select:M},k)}}),Bl=Pe({actionText:String,bgColor:String,color:String,icon:xl,image:String,justify:{type:String,default:"center"},headline:String,title:String,text:String,textWidth:{type:[Number,String],default:500},href:String,to:String,..._l(),...Cl(),...Sl({size:void 0}),...bl()},"VEmptyState"),xe=we()({name:"VEmptyState",props:Bl(),emits:{"click:action":e=>!0},setup(e,b){let{emit:u,slots:i}=b;const{themeClasses:k}=ml(e),{backgroundColorClasses:S,backgroundColorStyles:C}=yl(gl(e,"bgColor")),{dimensionStyles:N}=hl(e),{displayClasses:F}=Vl();function a(s){u("click:action",s)}return Ae(()=>{var G,$,j;const s=!!(i.actions||e.actionText),v=!!(i.headline||e.headline),d=!!(i.title||e.title),T=!!(i.text||e.text),K=!!(i.media||e.image||e.icon),R=e.size||(e.image?200:96);return l("div",{class:["v-empty-state",{[`v-empty-state--${e.justify}`]:!0},k.value,S.value,F.value,e.class],style:[C.value,N.value,e.style]},[K&&l("div",{key:"media",class:"v-empty-state__media"},[i.media?l(ve,{key:"media-defaults",defaults:{VImg:{src:e.image,height:R},VIcon:{size:R,icon:e.icon}}},{default:()=>[i.media()]}):l(E,null,[e.image?l(kl,{key:"image",src:e.image,height:R},null):e.icon?l(de,{key:"icon",color:e.color,size:R,icon:e.icon},null):void 0])]),v&&l("div",{key:"headline",class:"v-empty-state__headline"},[((G=i.headline)==null?void 0:G.call(i))??e.headline]),d&&l("div",{key:"title",class:"v-empty-state__title"},[(($=i.title)==null?void 0:$.call(i))??e.title]),T&&l("div",{key:"text",class:"v-empty-state__text",style:{maxWidth:pl(e.textWidth)}},[((j=i.text)==null?void 0:j.call(i))??e.text]),i.default&&l("div",{key:"content",class:"v-empty-state__content"},[i.default()]),s&&l("div",{key:"actions",class:"v-empty-state__actions"},[l(ve,{defaults:{VBtn:{class:"v-empty-state__action-btn",color:e.color??"surface-variant",text:e.actionText}}},{default:()=>{var W;return[((W=i.actions)==null?void 0:W.call(i,{props:{onClick:a}}))??l(fe,{onClick:a},null)]}})])])}),{}}}),Hl=wl({__name:"DashboardView",setup(e){const b=Tl(),u=I([]),i=I([]),k=I([]),S=I(null),C=async()=>{i.value=await Pl(S.value)};return(async()=>{var F;u.value=await Fl(),k.value=await Al(),S.value=(F=b.current)==null?void 0:F.id,await C()})(),(F,a)=>(B(),ie(E,null,[l(z,{title:"Bienvenido",subtitle:"Instituto de Informática UNA - PUNO",class:"rounded-0",elevation:"0"}),l(Il,null,{default:n(()=>[l(_e,null,{default:n(()=>[l(le,{cols:"12",md:"7"},{default:n(()=>[l(z,{elevation:"0",class:"rounded-0 border"},{default:n(()=>[l(re,null,{default:n(()=>[l(_e,{justify:"space-between"},{default:n(()=>[l(le,{cols:"12",md:"7"},{default:n(()=>[l(ee,null,{default:n(()=>a[1]||(a[1]=[y("Grupos")])),_:1}),l(w,null,{default:n(()=>a[2]||(a[2]=[y("Lista de grupos asignados")])),_:1})]),_:1}),l(le,{cols:"12",md:"4"},{default:n(()=>[l(Ml,{modelValue:S.value,"onUpdate:modelValue":[a[0]||(a[0]=s=>S.value=s),C],label:"Periodos",items:u.value,"hide-details":"auto"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),i.value.length>0?(B(!0),ie(E,{key:0},be(i.value,s=>(B(),Z(z,{elevation:"0",class:"rounded-0 border mb-3",key:s.id},{default:n(()=>[l(re,{class:"border-b"},{default:n(()=>[l(w,null,{default:n(()=>[l(ce,{color:"primary",rounded:"0",label:""},{default:n(()=>[y(V(s.modality),1)]),_:2},1024)]),_:2},1024),l(ee,null,{default:n(()=>[A("strong",null,V(s.name),1),y(" | "+V(s.course),1)]),_:2},1024),l(w,null,{default:n(()=>[a[3]||(a[3]=A("b",null,"Plan de estudio: ",-1)),y(" "+V(s.curriculum),1)]),_:2},1024),l(w,null,{default:n(()=>[a[4]||(a[4]=A("b",null,"Modulo: ",-1)),y(V(s.module),1)]),_:2},1024),l(w,null,{default:n(()=>[a[5]||(a[5]=A("b",null,"Area: ",-1)),y(" "+V(s.area),1)]),_:2},1024),l(w,null,{default:n(()=>{var v,d,T;return[a[6]||(a[6]=A("b",null,"Horario: ",-1)),y(" "+V((v=s.schedules)==null?void 0:v.days)+" "+V((d=s.schedules)==null?void 0:d.startHour)+"-"+V((T=s.schedules)==null?void 0:T.endHour),1)]}),_:2},1024)]),_:2},1024),l(Se,null,{default:n(()=>[l(Ce),l(fe,{color:"primary",link:"",to:`/group/${s.id}`},{default:n(()=>a[7]||(a[7]=[y(" ver grupo ")])),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128)):(B(),Z(xe,{key:1,headline:"Sin datos",title:"Seleccione un periodo"}))]),_:1}),l(le,{cols:"12",md:"5"},{default:n(()=>[l(z,{elevation:"0",class:"rounded-0 border py-1"},{default:n(()=>[l(ee,null,{default:n(()=>a[8]||(a[8]=[y("Grupos Activos")])),_:1}),l(w,null,{default:n(()=>a[9]||(a[9]=[y("Lista de grupos activos asignados")])),_:1})]),_:1}),k.value.length>0?(B(!0),ie(E,{key:0},be(k.value,s=>(B(),Z(z,{elevation:"0",class:"rounded-0 border mb-3",key:s.id},{default:n(()=>[l(re,{class:"border-b"},{default:n(()=>[l(w,null,{default:n(()=>[l(ce,{color:"primary",rounded:"0",label:""},{default:n(()=>[y(V(s.modality),1)]),_:2},1024)]),_:2},1024),l(ee,null,{default:n(()=>[A("strong",null,V(s.name),1),y(" | "+V(s.course),1)]),_:2},1024),l(w,null,{default:n(()=>[a[10]||(a[10]=A("b",null,"Plan de estudio: ",-1)),y(" "+V(s.curriculum),1)]),_:2},1024),l(w,null,{default:n(()=>[a[11]||(a[11]=A("b",null,"Modulo: ",-1)),y(V(s.module),1)]),_:2},1024),l(w,null,{default:n(()=>[a[12]||(a[12]=A("b",null,"Area: ",-1)),y(" "+V(s.area),1)]),_:2},1024),l(w,null,{default:n(()=>{var v,d,T;return[a[13]||(a[13]=A("b",null,"Horario: ",-1)),y(" "+V((v=s.schedules)==null?void 0:v.days)+" "+V((d=s.schedules)==null?void 0:d.startHour)+"-"+V((T=s.schedules)==null?void 0:T.endHour),1)]}),_:2},1024)]),_:2},1024),l(Se,null,{default:n(()=>[l(Ce),l(fe,{color:"primary",link:"",to:`/group/${s.id}`},{default:n(()=>a[14]||(a[14]=[y(" ver grupo ")])),_:2},1032,["to"])]),_:2},1024)]),_:2},1024))),128)):(B(),Z(xe,{key:1,headline:"Sin datos",title:"No tiene grupos activos"}))]),_:1})]),_:1})]),_:1})],64))}});export{Hl as default};
