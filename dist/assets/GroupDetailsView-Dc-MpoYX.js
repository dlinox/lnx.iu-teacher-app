import{T as qe,g as Be,p as Ee,d as k,aH as We,F as H,b4 as He,Y as ze,b5 as xe,D as Le,I as $e,H as pe,Q as ue,P as Se,u as Oe,k as _e,a as t,b6 as be,a9 as A,a4 as we,n as oe,a7 as Ae,f as je,aM as Ye,aP as Ze,a1 as Ne,b7 as Je,R as Qe,b8 as Xe,b9 as De,ba as Te,bb as et,bc as tt,J as at,bd as lt,ai as he,be as nt,bf as ut,bg as ot,h as rt,c as O,w as u,j as Fe,ah as j,an as K,s as p,ao as q,v as m,V as Ve,bh as Ie,i,b0 as S,b1 as ce,l as fe,bi as it,b2 as Ge,aj as ne,r as dt,bj as st,al as Re,bk as ct,bl as ft,o as y,ar as Me}from"./index-gvrUa8_8.js";import{c as vt,d as mt,e as gt,f as pt,g as Ue,h as bt,i as Vt,j as yt}from"./index-CX7O1jiw.js";import{u as xt}from"./heading.store-rYL8HsMl.js";import{u as wt}from"./period.stores-BUX23k2I.js";import{V as ye,a as ve}from"./VRow-leZSyQgY.js";import{V as Nt,a as Pe,b as ke,c as ht}from"./VTabs-fYzv2EIS.js";import{V as It}from"./VContainer-C-NBotit.js";const Pt=50,kt=500;function Ct(e){let{toggleUpDown:W}=e,g=-1,C=-1;qe(b);function w(o){b(),P(o),g=window.setTimeout(()=>{C=window.setInterval(()=>P(o),Pt)},kt)}function b(){window.clearTimeout(g),window.clearInterval(C)}function P(o){W(o==="up")}return{holdStart:w,holdStop:b}}const _t=Ee({controlVariant:{type:String,default:"default"},inset:Boolean,hideInput:Boolean,modelValue:{type:Number,default:null},min:{type:Number,default:Number.MIN_SAFE_INTEGER},max:{type:Number,default:Number.MAX_SAFE_INTEGER},step:{type:Number,default:1},precision:{type:Number,default:0},...Ye(Ze(),["modelValue","validationValue"])},"VNumberInput"),Ce=Be()({name:"VNumberInput",props:{..._t()},emits:{"update:modelValue":e=>!0},setup(e,W){let{slots:g}=W;const C=k(),{holdStart:w,holdStop:b}=Ct({toggleUpDown:l}),P=We(e),o=H(()=>P.isDisabled.value||P.isReadonly.value),{isFocused:Y,focus:z,blur:G}=He(e);function D(n){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.precision;const F=c==null?String(n):n.toFixed(c);return Y.value?Number(F).toString():F}const f=ze(e,"modelValue",null,n=>n??null,n=>n==null?n??null:xe(Number(n),e.min,e.max)),_=Le(null);$e(()=>{Y.value&&!o.value||(f.value==null?_.value=null:isNaN(f.value)||(_.value=D(f.value)))});const h=H({get:()=>_.value,set(n){n===null||n===""?(f.value=null,_.value=null):!isNaN(Number(n))&&Number(n)<=e.max&&Number(n)>=e.min&&(f.value=Number(n),_.value=n)}}),R=H(()=>o.value?!1:(f.value??0)+e.step<=e.max),Z=H(()=>o.value?!1:(f.value??0)-e.step>=e.min),N=H(()=>e.hideInput?"stacked":e.controlVariant),ee=pe(()=>N.value==="split"?"$plus":"$collapse"),te=pe(()=>N.value==="split"?"$minus":"$expand"),U=pe(()=>N.value==="split"?"default":"small"),L=pe(()=>N.value==="stacked"?"auto":"100%"),v={props:{onClick:V,onPointerup:s,onPointerdown:x}},a={props:{onClick:V,onPointerup:s,onPointerdown:T}};ue(()=>e.precision,()=>re()),Se(()=>{J()});function I(n){if(n==null)return 0;const c=n.toString(),F=c.indexOf(".");return~F?c.length-F:0}function l(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;if(o.value)return;if(f.value==null){h.value=D(xe(0,e.min,e.max));return}let c=Math.max(I(f.value),I(e.step));e.precision!=null&&(c=Math.max(c,e.precision)),n?R.value&&(h.value=D(f.value+e.step,c)):Z.value&&(h.value=D(f.value-e.step,c))}function d(n){var $,Q,ge,ie;if(!n.data)return;const c=($=n.target)==null?void 0:$.value,F=(Q=n.target)==null?void 0:Q.selectionStart,le=(ge=n.target)==null?void 0:ge.selectionEnd,B=c?c.slice(0,F)+n.data+c.slice(le):n.data;/^-?(\d+(\.\d*)?|(\.\d+)|\d*|\.)$/.test(B)||n.preventDefault(),e.precision!=null&&(((ie=B.split(".")[1])==null?void 0:ie.length)>e.precision&&n.preventDefault(),e.precision===0&&B.includes(".")&&n.preventDefault())}async function r(n){["Enter","ArrowLeft","ArrowRight","Backspace","Delete","Tab"].includes(n.key)||n.ctrlKey||["ArrowDown","ArrowUp"].includes(n.key)&&(n.preventDefault(),J(),await Ne(),n.key==="ArrowDown"?l(!1):l())}function V(n){n.stopPropagation()}function s(n){const c=n.currentTarget;c==null||c.releasePointerCapture(n.pointerId),n.preventDefault(),n.stopPropagation(),b()}function x(n){const c=n.currentTarget;c==null||c.setPointerCapture(n.pointerId),n.preventDefault(),n.stopPropagation(),w("up")}function T(n){const c=n.currentTarget;c==null||c.setPointerCapture(n.pointerId),n.preventDefault(),n.stopPropagation(),w("down")}function J(){if(o.value||!C.value)return;const n=C.value.value;n&&!isNaN(Number(n))?h.value=D(xe(Number(n),e.min,e.max)):h.value=null}function re(){if(!o.value){if(f.value===null||isNaN(f.value)){h.value=null;return}h.value=e.precision==null?String(f.value):f.value.toFixed(e.precision)}}function M(){if(!o.value){if(f.value===null||isNaN(f.value)){h.value=null;return}h.value=f.value.toString()}}function ae(){z(),M()}function me(){G(),J()}return Oe(()=>{const{modelValue:n,...c}=_e.filterProps(e);function F(){return g.increment?t(Ae,{key:"increment-defaults",defaults:{VBtn:{disabled:!R.value,flat:!0,height:L.value,size:U.value,icon:ee.value}}},{default:()=>[g.increment(v)]}):t(oe,{disabled:!R.value,flat:!0,key:"increment-btn",height:L.value,"data-testid":"increment","aria-hidden":"true",icon:ee.value,onClick:V,onPointerup:s,onPointerdown:x,size:U.value,tabindex:"-1"},null)}function le(){return g.decrement?t(Ae,{key:"decrement-defaults",defaults:{VBtn:{disabled:!Z.value,flat:!0,height:L.value,size:U.value,icon:te.value}}},{default:()=>[g.decrement(a)]}):t(oe,{disabled:!Z.value,flat:!0,key:"decrement-btn",height:L.value,"data-testid":"decrement","aria-hidden":"true",icon:te.value,size:U.value,tabindex:"-1",onClick:V,onPointerup:s,onPointerdown:T},null)}function B(){return t("div",{class:"v-number-input__control"},[le(),t(be,{vertical:N.value!=="stacked"},null),F()])}function $(){return!e.hideInput&&!e.inset?t(be,{vertical:!0},null):void 0}const Q=N.value==="split"?t("div",{class:"v-number-input__control"},[t(be,{vertical:!0},null),F()]):e.reverse||N.value==="hidden"?void 0:t(A,null,[$(),B()]),ge=g["append-inner"]||Q,ie=N.value==="split"?t("div",{class:"v-number-input__control"},[le(),t(be,{vertical:!0},null)]):e.reverse&&N.value!=="hidden"?t(A,null,[B(),$()]):void 0,Ke=g["prepend-inner"]||ie;return t(_e,we({ref:C,modelValue:h.value,"onUpdate:modelValue":X=>h.value=X,validationValue:f.value,onBeforeinput:d,onFocus:ae,onBlur:me,onKeydown:r,class:["v-number-input",{"v-number-input--default":N.value==="default","v-number-input--hide-input":e.hideInput,"v-number-input--inset":e.inset,"v-number-input--reverse":e.reverse,"v-number-input--split":N.value==="split","v-number-input--stacked":N.value==="stacked"},e.class]},c,{style:e.style,inputmode:"decimal"}),{...g,"append-inner":ge?function(){var se;for(var X=arguments.length,de=new Array(X),E=0;E<X;E++)de[E]=arguments[E];return t(A,null,[(se=g["append-inner"])==null?void 0:se.call(g,...de),Q])}:void 0,"prepend-inner":Ke?function(){var se;for(var X=arguments.length,de=new Array(X),E=0;E<X;E++)de[E]=arguments[E];return t(A,null,[ie,(se=g["prepend-inner"])==null?void 0:se.call(g,...de)])}:void 0})}),je({},C)}}),St=Ee({autoGrow:Boolean,autofocus:Boolean,counter:[Boolean,Number,String],counterValue:Function,prefix:String,placeholder:String,persistentPlaceholder:Boolean,persistentCounter:Boolean,noResize:Boolean,rows:{type:[Number,String],default:5,validator:e=>!isNaN(parseFloat(e))},maxRows:{type:[Number,String],validator:e=>!isNaN(parseFloat(e))},suffix:String,modelModifiers:Object,...tt(),...et()},"VTextarea"),At=Be()({name:"VTextarea",directives:{Intersect:Je},inheritAttrs:!1,props:St(),emits:{"click:control":e=>!0,"mousedown:control":e=>!0,"update:focused":e=>!0,"update:modelValue":e=>!0},setup(e,W){let{attrs:g,emit:C,slots:w}=W;const b=ze(e,"modelValue"),{isFocused:P,focus:o,blur:Y}=He(e),z=H(()=>typeof e.counterValue=="function"?e.counterValue(b.value):(b.value||"").toString().length),G=H(()=>{if(g.maxlength)return g.maxlength;if(!(!e.counter||typeof e.counter!="number"&&typeof e.counter!="string"))return e.counter});function D(r,V){var s,x;!e.autofocus||!r||(x=(s=V[0].target)==null?void 0:s.focus)==null||x.call(s)}const f=k(),_=k(),h=Le(""),R=k(),Z=H(()=>e.persistentPlaceholder||P.value||e.active);function N(){var r;R.value!==document.activeElement&&((r=R.value)==null||r.focus()),P.value||o()}function ee(r){N(),C("click:control",r)}function te(r){C("mousedown:control",r)}function U(r){r.stopPropagation(),N(),Ne(()=>{b.value="",ot(e["onClick:clear"],r)})}function L(r){var s;const V=r.target;if(b.value=V.value,(s=e.modelModifiers)!=null&&s.trim){const x=[V.selectionStart,V.selectionEnd];Ne(()=>{V.selectionStart=x[0],V.selectionEnd=x[1]})}}const v=k(),a=k(Number(e.rows)),I=H(()=>["plain","underlined"].includes(e.variant));$e(()=>{e.autoGrow||(a.value=Number(e.rows))});function l(){e.autoGrow&&Ne(()=>{if(!v.value||!_.value)return;const r=getComputedStyle(v.value),V=getComputedStyle(_.value.$el),s=parseFloat(r.getPropertyValue("--v-field-padding-top"))+parseFloat(r.getPropertyValue("--v-input-padding-top"))+parseFloat(r.getPropertyValue("--v-field-padding-bottom")),x=v.value.scrollHeight,T=parseFloat(r.lineHeight),J=Math.max(parseFloat(e.rows)*T+s,parseFloat(V.getPropertyValue("--v-input-control-height"))),re=parseFloat(e.maxRows)*T+s||1/0,M=xe(x??0,J,re);a.value=Math.floor((M-s)/T),h.value=at(M)})}Se(l),ue(b,l),ue(()=>e.rows,l),ue(()=>e.maxRows,l),ue(()=>e.density,l);let d;return ue(v,r=>{r?(d=new ResizeObserver(l),d.observe(v.value)):d==null||d.disconnect()}),Qe(()=>{d==null||d.disconnect()}),Oe(()=>{const r=!!(w.counter||e.counter||e.counterValue),V=!!(r||w.details),[s,x]=Xe(g),{modelValue:T,...J}=De.filterProps(e),re=Te.filterProps(e);return t(De,we({ref:f,modelValue:b.value,"onUpdate:modelValue":M=>b.value=M,class:["v-textarea v-text-field",{"v-textarea--prefixed":e.prefix,"v-textarea--suffixed":e.suffix,"v-text-field--prefixed":e.prefix,"v-text-field--suffixed":e.suffix,"v-textarea--auto-grow":e.autoGrow,"v-textarea--no-resize":e.noResize||e.autoGrow,"v-input--plain-underlined":I.value},e.class],style:e.style},s,J,{centerAffix:a.value===1&&!I.value,focused:P.value}),{...w,default:M=>{let{id:ae,isDisabled:me,isDirty:n,isReadonly:c,isValid:F}=M;return t(Te,we({ref:_,style:{"--v-textarea-control-height":h.value},onClick:ee,onMousedown:te,"onClick:clear":U,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},re,{id:ae.value,active:Z.value||n.value,centerAffix:a.value===1&&!I.value,dirty:n.value||e.dirty,disabled:me.value,focused:P.value,error:F.value===!1}),{...w,default:le=>{let{props:{class:B,...$}}=le;return t(A,null,[e.prefix&&t("span",{class:"v-text-field__prefix"},[e.prefix]),he(t("textarea",we({ref:R,class:B,value:b.value,onInput:L,autofocus:e.autofocus,readonly:c.value,disabled:me.value,placeholder:e.placeholder,rows:e.rows,name:e.name,onFocus:N,onBlur:Y},$,x),null),[[nt("intersect"),{handler:D},null,{once:!0}]]),e.autoGrow&&he(t("textarea",{class:[B,"v-textarea__sizer"],id:`${$.id}-sizer`,"onUpdate:modelValue":Q=>b.value=Q,ref:v,readonly:!0,"aria-hidden":"true"},null),[[ut,b.value]]),e.suffix&&t("span",{class:"v-text-field__suffix"},[e.suffix])])}})},details:V?M=>{var ae;return t(A,null,[(ae=w.details)==null?void 0:ae.call(w,M),r&&t(A,null,[t("span",null,null),t(lt,{active:e.persistentCounter||P.value,value:z.value,max:G.value,disabled:e.disabled},w.counter)])])}:void 0})}),je({},f,_,R)}}),Dt={class:"bg-grey-lighten-3"},Tt={key:0},Ft={key:1},Gt={class:"border-s"},Rt={class:"roudend-0 bg-grey-lighten-3"},Mt={style:{width:"200px"}},Ot=rt({__name:"GroupDetailsView",setup(e){const W=xt(),g=wt(),C=ft(),w=k(!1),b=k(!1),P=k("list"),o=k(null),Y=k([]),z=k(new Date().toISOString().split("T")[0]),G=k([]),D=k([]),f=k(!1),_=k(""),h=v=>{let a=G.value[v];if(o.value.gradingModel==1){let I=a.gradeUnits.filter(s=>s.order!==2),l=I.reduce((s,x)=>s+(parseFloat(x.grade)||0),0),d=I.length>0?l/I.length:0,r=a.gradeUnits.find(s=>s.order===2),V=r&&r.grade||0;a.finalGrade=Number(d*.9+V)}else if(o.value.gradingModel==2){let I=a.gradeUnits.reduce((d,r)=>d+(Number(r.grade)||0),0),l=a.gradeUnits.length;a.finalGrade=l>0?Number(I/l):0}},R=()=>(console.log(G.value),G.value.map(v=>({enrollmentGroupId:v.id,studentId:v.studentId,gradeId:v.gradeId,finalGrade:v.finalGrade,gradeUnits:v.gradeUnits.map(a=>({id:a.id,grade:a.grade,order:a.order}))}))),Z=async()=>{f.value=!0;const v=D.value.map(a=>({enrollmentGroupId:a.enrollmentGroupId,studentId:a.id,status:a.status,date:z.value}));D.value=await vt({students:v}),f.value=!1},N=async()=>{b.value=!0,await mt({id:o.value.id,observations:_.value}),b.value=!1},ee=async()=>{b.value=!0;const v=await gt(o.value.id);return b.value=!1,v},te=async()=>{const v=C.params.id;f.value=!0;const a=R();await pt({grades:a}),G.value=await Ue(v),f.value=!1},U=async()=>{const v=C.params.id;w.value=!0,D.value=await bt({id:v,date:z.value}),console.log(D),w.value=!1},L=async()=>{w.value=!0;const v=C.params.id;o.value=await Vt(v),Y.value=await yt(v),G.value=await Ue(v),await U(),w.value=!1,W.setHeading(`${o==null?void 0:o.value.name} | ${o==null?void 0:o.value.course}`,"Gestión del grupo")};return Se(()=>{L()}),(v,a)=>{const I=dt("LnxIcon");return y(),O(It,null,{default:u(()=>[t(Ve,{subtitle:"Detalle del grupo"},{default:u(()=>[t(Fe,{class:"border-t"},{default:u(()=>[t(ye,null,{default:u(()=>[t(ve,null,{default:u(()=>[t(j,null,{default:u(()=>[t(K,null,{default:u(()=>a[5]||(a[5]=[p("Plan")])),_:1}),t(q,null,{default:u(()=>{var l;return[p(m((l=o.value)==null?void 0:l.curriculum),1)]}),_:1})]),_:1}),t(j,null,{default:u(()=>[t(K,null,{default:u(()=>a[6]||(a[6]=[p("Curso")])),_:1}),t(q,null,{default:u(()=>{var l;return[p(m((l=o.value)==null?void 0:l.course),1)]}),_:1})]),_:1}),t(j,null,{default:u(()=>[t(K,null,{default:u(()=>a[7]||(a[7]=[p("Modulo")])),_:1}),t(q,null,{default:u(()=>{var l;return[p(m((l=o.value)==null?void 0:l.module),1)]}),_:1})]),_:1}),t(j,null,{default:u(()=>[t(K,null,{default:u(()=>a[8]||(a[8]=[p("Área")])),_:1}),t(q,null,{default:u(()=>{var l;return[p(m((l=o.value)==null?void 0:l.area),1)]}),_:1})]),_:1})]),_:1}),t(ve,null,{default:u(()=>[t(j,null,{default:u(()=>[t(K,null,{default:u(()=>a[9]||(a[9]=[p("Grupo")])),_:1}),t(q,null,{default:u(()=>{var l;return[p(m((l=o.value)==null?void 0:l.name),1)]}),_:1})]),_:1}),t(j,null,{default:u(()=>[t(K,null,{default:u(()=>a[10]||(a[10]=[p("Periodo")])),_:1}),t(q,null,{default:u(()=>{var l,d;return[p(m((l=o.value)==null?void 0:l.period)+" - "+m((d=o.value)==null?void 0:d.month),1)]}),_:1})]),_:1}),t(j,null,{default:u(()=>[t(K,null,{default:u(()=>a[11]||(a[11]=[p("Modalidad")])),_:1}),t(q,null,{default:u(()=>{var l;return[p(m((l=o.value)==null?void 0:l.modality),1)]}),_:1})]),_:1}),t(j,null,{default:u(()=>[t(K,null,{default:u(()=>a[12]||(a[12]=[p("Horario")])),_:1}),t(q,null,{default:u(()=>{var l,d,r,V,s,x;return[p(m((d=(l=o.value)==null?void 0:l.schedules)==null?void 0:d.days)+" "+m((V=(r=o.value)==null?void 0:r.schedules)==null?void 0:V.startHour)+" - "+m((x=(s=o.value)==null?void 0:s.schedules)==null?void 0:x.endHour),1)]}),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(Nt,{modelValue:P.value,"onUpdate:modelValue":a[0]||(a[0]=l=>P.value=l)},{default:u(()=>[t(Pe,{value:"list"},{default:u(()=>a[13]||(a[13]=[p(" Estudiantes ")])),_:1}),t(Pe,{value:"grade"},{default:u(()=>a[14]||(a[14]=[p(" Notas ")])),_:1}),t(Pe,{value:"attendance"},{default:u(()=>a[15]||(a[15]=[p(" Asistencia ")])),_:1})]),_:1},8,["modelValue"])]),_:1}),t(ht,{modelValue:P.value,"onUpdate:modelValue":a[4]||(a[4]=l=>P.value=l)},{default:u(()=>[t(ke,{value:"list"},{default:u(()=>[t(Ve,{class:"rounded-0"},{default:u(()=>[t(ye,null,{default:u(()=>[t(ve,{cols:"12"},{default:u(()=>[t(Ie,{class:"roudend-0",hover:""},{default:u(()=>[a[16]||(a[16]=i("thead",{class:"roudend-0 bg-grey-lighten-3"},[i("tr",null,[i("th",null,"N°"),i("th",null,"Código"),i("th",null,"Apellido Paterno"),i("th",null,"Apellido Materno"),i("th",null,"Nombre"),i("th",null,"Celular"),i("th",null,"Tipo de estudiante")])],-1)),i("tbody",null,[(y(!0),S(A,null,ce(Y.value,(l,d)=>(y(),S("tr",{key:l.id},[i("td",null,m(d+1),1),i("td",null,m(l.code),1),i("td",null,m(l.lastNameFather),1),i("td",null,m(l.lastNameMother),1),i("td",null,m(l.name),1),i("td",null,m(l.phone),1),i("td",null,m(l.studentType),1)]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(ke,{value:"grade"},{default:u(()=>[t(Ve,{class:"rounded-0"},{default:u(()=>[t(ye,null,{default:u(()=>[t(ve,{cols:"12"},{default:u(()=>[t(Ie,{class:"roudend-0",hover:""},{default:u(()=>[i("thead",Dt,[i("tr",null,[a[17]||(a[17]=i("th",null,"N°",-1)),a[18]||(a[18]=i("th",null,"Apellido Paterno",-1)),a[19]||(a[19]=i("th",null,"Apellido Materno",-1)),a[20]||(a[20]=i("th",null,"Nombre",-1)),(y(!0),S(A,null,ce(o.value.units,l=>(y(),S("th",{style:{width:"120px"},key:l},[o.value.gradingModel==1?(y(),S("span",Tt,[l==1?(y(),S(A,{key:0},[p(" Prom. Cap. ")],64)):(y(),S(A,{key:1},[p(" Act. ")],64))])):(y(),S("span",Ft," Unidad "+m(l),1))]))),128)),a[21]||(a[21]=i("th",{style:{width:"120px"}},"Nota final",-1))])]),i("tbody",null,[(y(!0),S(A,null,ce(G.value,(l,d)=>(y(),S("tr",{key:l.id},[i("td",null,m(d+1),1),i("td",null,m(l.lastNameFather),1),i("td",null,m(l.lastNameMother),1),i("td",null,m(l.name),1),(y(!0),S(A,null,ce(l.gradeUnits,(r,V)=>{var s,x;return y(),S("td",{key:V,class:"border-s"},[o.value.gradingModel==1&&r.order==2?(y(),O(Ce,{key:0,readonly:((s=fe(g).gradeDeadline)==null?void 0:s.periodId)!=o.value.periodId,modelValue:r.grade,"onUpdate:modelValue":[T=>r.grade=T,T=>h(d)],modelModifiers:{number:!0},controlVariant:"hidden",precision:0,max:3,min:1,density:"compact"},null,8,["readonly","modelValue","onUpdate:modelValue"])):(y(),O(Ce,{key:1,readonly:((x=fe(g).gradeDeadline)==null?void 0:x.periodId)!=o.value.periodId,modelValue:r.grade,"onUpdate:modelValue":[T=>r.grade=T,T=>h(d)],modelModifiers:{number:!0},controlVariant:"hidden",precision:2,max:20,min:0,density:"compact"},null,8,["readonly","modelValue","onUpdate:modelValue"]))])}),128)),i("td",Gt,[t(Ce,{modelValue:l.finalGrade,"onUpdate:modelValue":r=>l.finalGrade=r,modelModifiers:{number:!0},precision:0,density:"compact",controlVariant:"hidden",class:it(l.finalGrade<11?"text-red":""),max:20,readonly:""},null,8,["modelValue","onUpdate:modelValue","class"])])]))),128))])]),_:1})]),_:1})]),_:1}),t(Ge,{class:"bg-grey-lighten-3"},{default:u(()=>{var l,d;return[o.value.hasAcademicRecord?(y(),O(oe,{key:0,color:"primary",onClick:a[1]||(a[1]=r=>ee()),variant:"tonal",loading:b.value},{prepend:u(()=>[t(I,{iconName:"document-download"})]),default:u(()=>[a[22]||(a[22]=p(" Visualizar acta "))]),_:1},8,["loading"])):ne("",!0),((l=fe(g).gradeDeadline)==null?void 0:l.periodId)==o.value.periodId?(y(),O(oe,{key:1,color:"dark",variant:"tonal",loading:b.value},{prepend:u(()=>[t(I,{iconName:"document-download"})]),default:u(()=>[t(st,{title:"Confirmar",message:"<b>Asegúrate de que toda la información sea correcta antes de continuar</b>.<br>Al generar el acta de notas, el grupo se dará por <b>FINALIZADO</b>.",loading:b.value,confirmText:"Generar",cancelText:"Cancelar",onOnConfirm:N},{default:u(()=>[o.value.hasAcademicRecord?(y(),O(Fe,{key:0,class:"border-b"},{default:u(()=>[t(At,{modelValue:_.value,"onUpdate:modelValue":a[2]||(a[2]=r=>_.value=r),label:"Observaciones",rows:"2",outlined:"",density:"compact"},null,8,["modelValue"])]),_:1})):ne("",!0)]),_:1},8,["loading"]),a[23]||(a[23]=p(" Generar acta "))]),_:1},8,["loading"])):ne("",!0),t(Re),((d=fe(g).gradeDeadline)==null?void 0:d.periodId)==o.value.periodId?he((y(),O(oe,{key:2,color:"primary",variant:"flat",onClick:te,class:"ms-2",loading:f.value},{prepend:u(()=>[t(I,{iconName:"task"})]),default:u(()=>[a[24]||(a[24]=p(" Guardar "))]),_:1},8,["loading"])),[[Me,"Guardar cambios","top"]]):ne("",!0)]}),_:1})]),_:1})]),_:1}),t(ke,{value:"attendance"},{default:u(()=>[t(Ve,{class:"rounded-0"},{default:u(()=>[t(ye,null,{default:u(()=>[t(ve,{cols:"12"},{default:u(()=>[t(Ie,{class:"roudend-0",hover:""},{default:u(()=>[i("thead",Rt,[i("tr",null,[a[25]||(a[25]=i("th",null,"N°",-1)),a[26]||(a[26]=i("th",null,"Nombre",-1)),i("th",Mt,[t(_e,{modelValue:z.value,"onUpdate:modelValue":[a[3]||(a[3]=l=>z.value=l),U],density:"compact",type:"date"},null,8,["modelValue"])])])]),i("tbody",null,[(y(!0),S(A,null,ce(D.value,(l,d)=>(y(),S("tr",{key:l.id},[i("td",null,m(d+1),1),i("td",null,m(l.lastNameFather)+" "+m(l.lastNameMother)+", "+m(l.name),1),i("td",null,[t(ct,{modelValue:l.status,"onUpdate:modelValue":r=>l.status=r,density:"compact",items:["PRESENTE","FALTA","TARDE"]},null,8,["modelValue","onUpdate:modelValue"])])]))),128))])]),_:1})]),_:1})]),_:1}),t(Ge,{class:"bg-grey-lighten-3"},{default:u(()=>{var l;return[ne("",!0),t(Re),((l=fe(g).gradeDeadline)==null?void 0:l.periodId)==o.value.periodId?he((y(),O(oe,{key:1,color:"primary",variant:"flat",onClick:Z,class:"ms-2",loading:f.value},{prepend:u(()=>[t(I,{iconName:"task"})]),default:u(()=>[a[28]||(a[28]=p(" Guardar "))]),_:1},8,["loading"])),[[Me,"Guardar asistencia","top"]]):ne("",!0)]}),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{Ot as default};
